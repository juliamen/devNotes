{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"Mulesoft/APIGatewayAutodiscovery/","title":"MuleSoft API Gateway &amp; Autodiscovery Guide","text":""},{"location":"Mulesoft/APIGatewayAutodiscovery/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>In MuleSoft, the API Gateway and Autodiscovery enable centralized API management \u2014 applying policies, security, analytics, and monitoring without changing application logic.</p> <p>When you deploy an API-enabled Mule application, Autodiscovery links the runtime (CloudHub or on-prem) to the API instance in Anypoint API Manager.</p> <p>Benefits:</p> <ul> <li>Centralized policy enforcement (OAuth, Rate Limiting, IP Allowlist)</li> <li>API analytics and usage monitoring</li> <li>Security and governance consistency</li> <li>Simplified lifecycle management (Design \u2192 Implement \u2192 Manage \u2192 Monitor)</li> </ul>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#2-what-is-the-mulesoft-api-gateway","title":"2\ufe0f\u20e3 What is the MuleSoft API Gateway?","text":""},{"location":"Mulesoft/APIGatewayAutodiscovery/#definition","title":"Definition","text":"<ul> <li>Embedded runtime component in Mule 4+</li> <li>Intercepts all API traffic and applies governance/security policies configured in API Manager</li> </ul>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#key-responsibilities","title":"Key Responsibilities","text":"Function Description Policy Enforcement Access control, rate limiting, client ID enforcement Analytics &amp; Monitoring Captures metrics, usage data, latency for dashboards Request Routing Directs API requests to backend flows/services Security Layer Auth &amp; authorization before API logic executes Lifecycle Management Versioning, status tracking, deprecation handling"},{"location":"Mulesoft/APIGatewayAutodiscovery/#architecture-overview","title":"Architecture Overview","text":"<pre><code>\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             Anypoint API Manager           \u2502\n\u2502   (Policies, Contracts, Analytics, Version) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502 Autodiscovery ID\n\u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Mule API Gateway       \u2502\n\u2502  (Runtime inside Mule App)    \u2502\n\u2502 Applies policies             \u2502\n\u2502 Enforces security            \u2502\n\u2502 Sends analytics to API Manager \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n````\n\n---\n\n## 3\ufe0f\u20e3 What is API Autodiscovery?\n\n**Definition:** Mechanism linking a Mule API implementation (Mule app) to its API instance in API Manager.\n\n- Ensures the runtime enforces all policies and sends analytics to API Manager.\n- Uses a unique **Autodiscovery ID** per API instance.\n\n---\n\n## 4\ufe0f\u20e3 How Autodiscovery Works\n\n- Mule reads Autodiscovery configuration from XML or property\n- Connects to Anypoint Platform using credentials\n- Registers runtime as active API instance\n- API Gateway begins applying policies and analytics automatically\n\n---\n\n## 5\ufe0f\u20e3 Autodiscovery Configuration in Mule\n\n### Step 1 \u2014 Get the Autodiscovery ID\n- API Manager \u2192 Manage API \u2192 Settings \u2192 **API Autodiscovery ID**\n\n### Step 2 \u2014 Configure in Mule App\n\n**Inline in XML:**\n```xml\n&lt;api-gateway:autodiscovery\n    api-id=\"12345678\"\n    flow-ref=\"api-main\"\n    http-listener-config=\"HTTP_Listener_config\"/&gt;\n````\n\n**Using Property Variable:**\n\n```properties\n# config.properties\napi.autodiscovery.id=12345678\n</code></pre> <pre><code>&lt;api-gateway:autodiscovery\n    api-id=\"${api.autodiscovery.id}\"\n    flow-ref=\"api-main\"\n    http-listener-config=\"HTTP_Listener_config\"/&gt;\n</code></pre>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#6-required-prerequisites","title":"6\ufe0f\u20e3 Required Prerequisites","text":"Requirement Description API Registered in Exchange RAML/OAS published to Exchange API Instance in API Manager Created in API Manager with Autodiscovery ID Connected Mule Runtime CloudHub or on-prem linked to Anypoint control plane Proper Credentials Client ID/Secret configured for platform access"},{"location":"Mulesoft/APIGatewayAutodiscovery/#7-configuring-autodiscovery-across-environments","title":"7\ufe0f\u20e3 Configuring Autodiscovery Across Environments","text":"Environment How It\u2019s Configured Notes CloudHub Runtime Manager properties or CI/CD pipeline -Danypoint.platform.client_id / client_secret On-Prem Runtime wrapper.conf or deployment script Connects via Anypoint control plane Azure DevOps Inject Autodiscovery ID and credentials at deploy Enables automatic registration during CI/CD"},{"location":"Mulesoft/APIGatewayAutodiscovery/#8-example-azure-pipeline-integration","title":"8\ufe0f\u20e3 Example: Azure Pipeline Integration","text":"<pre><code>variables:\n  - group: MuleSoft-UAT\n\nsteps:\n  - task: Bash@3\n    displayName: \"Deploy API with Autodiscovery\"\n    inputs:\n      targetType: inline\n      script: |\n        mvn clean deploy \\\n          -Danypoint.username=$(anypointUsername) \\\n          -Danypoint.password=$(anypointPassword) \\\n          -Danypoint.platform.client_id=$(anypointClientId) \\\n          -Danypoint.platform.client_secret=$(anypointClientSecret) \\\n          -Dapi.autodiscovery.id=$(autodiscoveryId) \\\n          -Dmule.env=uat\n</code></pre> <ul> <li>Autodiscovery ID and credentials are passed as variables</li> <li>Runtime registers with API Manager \u2192 policies automatically applied</li> </ul>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#9-policies-and-governance","title":"9\ufe0f\u20e3 Policies and Governance","text":"Policy Purpose Client ID Enforcement Ensures requests provide valid client ID/secret OAuth 2.0 Auth via external IdP Rate Limiting Controls requests per time unit IP Allowlist/Denylist Restricts certain IP ranges Header Injection Adds tracking/security headers automatically <p>Note: Policies are managed centrally in API Manager \u2014 no code changes needed in Mule flows.</p>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#example-end-to-end-flow","title":"\ud83d\udd12 Example End-to-End Flow","text":"<ol> <li>API published to Exchange</li> <li>API instance created in API Manager \u2192 Autodiscovery ID generated</li> <li>Mule app configured with <code>${api.autodiscovery.id}</code></li> <li>Deployed via CI/CD \u2192 runtime registers with API Manager</li> <li>Client calls API \u2192 Gateway enforces security \u2192 backend flow executes</li> <li>Analytics/metrics synced to API Manager dashboard</li> </ol>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#10-verifying-autodiscovery","title":"10\ufe0f\u20e3 Verifying Autodiscovery","text":"<p>\u2705 Runtime Manager Logs</p> <ul> <li>Look for: <code>API Gateway: Successfully registered API with ID 12345678</code></li> </ul> <p>\u2705 API Manager</p> <ul> <li>Status: Active</li> <li>Connected Environment matches deployment</li> <li>Policies applied</li> <li>Analytics visible</li> </ul>"},{"location":"Mulesoft/APIGatewayAutodiscovery/#11-best-practices","title":"11\ufe0f\u20e3 Best Practices","text":"Category Best Practice Configuration Externalize Autodiscovery ID per environment Security Never hardcode credentials; use pipeline vars or secure properties Automation Integrate Autodiscovery and credentials into CI/CD Governance Apply policies centrally in API Manager Monitoring Enable API Analytics for all production APIs Versioning Version APIs in Exchange &amp; API Manager; avoid reusing IDs across versions"},{"location":"Mulesoft/APIGatewayAutodiscovery/#12-troubleshooting-tips","title":"12\ufe0f\u20e3 Troubleshooting Tips","text":"Issue Likely Cause Fix API not \u201cActive\u201d Wrong Autodiscovery ID Check API Manager ID and property config Policies not applied Missing credentials / wrong env Verify Anypoint client ID/secret Analytics missing API Manager not connected Ensure connectivity and correct org/env Unauthorized request Policy enforcement not satisfied Provide valid credentials"},{"location":"Mulesoft/APIGatewayAutodiscovery/#13-summary-table","title":"13\ufe0f\u20e3 Summary Table","text":"Concept Description Defined Where Purpose API Gateway Embedded Mule component enforcing policies Mule Runtime Security, monitoring, routing Autodiscovery Links Mule app to API Manager Mule XML + API Manager Policy management, analytics Autodiscovery ID Unique ID of API instance API Manager Connects runtime to API definition Platform Credentials Client ID/Secret for registration Azure or Runtime Manager Authenticate runtime to API Manager Policies Rules applied by API Gateway API Manager Enforce security and governance"},{"location":"Mulesoft/APIGatewayAutodiscovery/#14-visual-summary-diagram","title":"14\ufe0f\u20e3 Visual Summary Diagram","text":"<pre><code>                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                   \u2502           Anypoint API Manager                \u2502\n                   \u2502 Policies | Analytics | Versions | Contracts   \u2502\n                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                          \u2502 Autodiscovery ID\n                                          \u25bc\n                             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                             \u2502     Mule Runtime (Gateway)  \u2502\n                             \u2502 Enforces policies           \u2502\n                             \u2502 Registers API instance      \u2502\n                             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                        \u2502\n                                        \u25bc\n                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                          \u2502     Mule Application Flows    \u2502\n                          \u2502   (Business Logic / APIs)     \u2502\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"Mulesoft/APILedArchitecture/","title":"MuleSoft API-Led Connectivity Architecture Guide","text":""},{"location":"Mulesoft/APILedArchitecture/#overview","title":"Overview","text":"<p>This document describes a recommended API\u2011Led Connectivity architecture in MuleSoft, including:</p> <ul> <li>Component placement (DB connector, Salesforce batch/upsert, Salesforce listener, scheduler, DataWeave transformations)  </li> <li>Cross-cutting concerns: error handling, idempotency, security, monitoring, deployment  </li> </ul> <p>Target audience: MuleSoft architects, integration developers, DevOps engineers</p>"},{"location":"Mulesoft/APILedArchitecture/#api-layers-and-responsibilities","title":"API Layers and Responsibilities","text":"<p>Follow MuleSoft's API\u2011led approach, split into three layers:</p> Layer Responsibility System APIs (System Layer) Encapsulate access to source systems (DBs, SaaS, mainframes). Connectivity, protocol translation, CRUD, backend throttling Process APIs (Orchestration Layer) Business logic and orchestration between System and Experience APIs. Transformations, aggregation, idempotency, retries, batching Experience APIs (Experience Layer) Tailored APIs for consumers (mobile, web, Salesforce Flows). Presentation mapping, minor orchestration, security"},{"location":"Mulesoft/APILedArchitecture/#component-placement-recommendations","title":"Component Placement Recommendations","text":""},{"location":"Mulesoft/APILedArchitecture/#db-connector","title":"DB Connector","text":"<ul> <li>Place: System API (close to data source)  </li> <li>Rationale: Centralize data access; isolate SQL/schema from business logic  </li> <li>Implementation Notes: </li> <li>Use connection pool (<code>validationQuery</code>, <code>maxActive</code>, <code>minIdle</code>)  </li> <li>Avoid exposing raw SQL to Experience APIs; provide coarse-grained methods  </li> <li>Parameterize queries to prevent SQL injection  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#salesforce-pubsub-listener-platform-events-cdc","title":"Salesforce Pub/Sub Listener (Platform Events / CDC)","text":"<ul> <li>Place: System API or lightweight Process API  </li> <li>Rationale: </li> <li>Simple transformation \u2192 System API  </li> <li>Complex business processing \u2192 Process API  </li> <li>Implementation Notes: </li> <li>Use Salesforce Connector for Platform Events / CDC  </li> <li>Durable consumer: replay IDs or platform event replay  </li> <li>High throughput: buffer via Object Store v2, JMS, Kafka  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#scheduler","title":"Scheduler","text":"<ul> <li>Place: System API or dedicated scheduler service  </li> <li>Rationale: Operational concern; avoid putting scheduling in Experience APIs  </li> <li>Implementation Notes: </li> <li>Use Mule Scheduler (Mule 4) or external schedulers (Control-M, AWS EventBridge, K8s CronJob)  </li> <li>Call secure System API endpoint  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#batch-processing-salesforce-large-files","title":"Batch Processing (Salesforce / Large Files)","text":"<ul> <li>Place: Process API or dedicated Batch App  </li> <li>Rationale: Handles business logic + large payloads  </li> <li>Implementation Notes: </li> <li>Use Mule Batch Job module (<code>chunkSize</code>, Input \u2192 Process \u2192 OnComplete)  </li> <li>Salesforce Bulk API v2 for large upserts  </li> <li>Tune chunking and parallelism to respect Salesforce limits  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#upsert-records-to-salesforce","title":"Upsert Records to Salesforce","text":"<ul> <li>Place: Process API (or System API if centralizing Salesforce access)  </li> <li>Rationale: Combines business logic and external system keys  </li> <li>Implementation Notes: </li> <li>Use upsert with External ID to avoid duplicates  </li> <li>Bulk API for large volumes  </li> <li>Handle partial failures; retry or DLQ  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#dataweave-transformations","title":"DataWeave Transformations","text":"<ul> <li>Place: Primarily in Process APIs  </li> <li>Rationale: Canonical models and business mappings live here  </li> <li>Implementation Notes: </li> <li>Keep complex logic in reusable <code>.dwl</code> modules  </li> <li>Test with MUnit and sample payloads  </li> <li>Prefer small, composable transforms  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#error-handling","title":"Error Handling","text":"<ul> <li>Place: Across all layers (global + flow-specific)  </li> <li>Rationale: Consistency and observability  </li> <li>Implementation Notes: </li> <li><code>on-error-propagate</code> and <code>on-error-continue</code> </li> <li>Meaningful HTTP statuses for Experience APIs (400, 401, 429, 500)  </li> <li>Push errors to monitoring systems (ELK, Datadog, NewRelic)  </li> <li>Retry transient errors with exponential backoff  </li> <li>Non-retriable errors \u2192 DLQ or database  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#idempotency","title":"Idempotency","text":"<ul> <li>Place: Process APIs  </li> <li>Rationale: Deduplicate unique business transactions  </li> <li>Implementation Patterns: </li> <li>Idempotency Key: Consumer-supplied header, persist in Object Store v2 / Redis / DB  </li> <li>Deduplication via business keys: Compute deterministic key (e.g., <code>tenantId|eventType|timestampBucket</code>)  </li> <li>Idempotent consumer: Make downstream operations repeat-safe  </li> <li>Implementation Notes: </li> <li>Short-term store: Object Store v2, long-term: DB  </li> <li>Atomic operations using transactions or optimistic locking  </li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#cross-cutting-concerns","title":"Cross-Cutting Concerns","text":"Concern Recommendations Security Anypoint API Manager policies (Client ID/Secret, OAuth2, IP whitelisting, rate limiting); store credentials in secure properties; TLS for all comms Logging &amp; Tracing Correlation ID across layers; log request entry, transformations, external calls, responses, errors; integrate with OpenTelemetry Monitoring &amp; Alerts Request count, latency, errors, connector failures, queue lengths; alert on error spikes, retries, backlog Retries &amp; Circuit Breaker Retry with exponential backoff; circuit breaker using <code>on-error-continue</code> and Object Store counters Dead Letter Queue (DLQ) Capture failed messages (SQS, Kafka, DB) including metadata and error details"},{"location":"Mulesoft/APILedArchitecture/#typical-flow-examples","title":"Typical Flow Examples","text":""},{"location":"Mulesoft/APILedArchitecture/#example-1-scheduled-file-processing-salesforce-upsert","title":"Example 1 \u2014 Scheduled File Processing &amp; Salesforce Upsert","text":"<ol> <li>Scheduler triggers Process API (or dedicated batch app)  </li> <li>Process API calls System API (FileSystemAPI / SFTPSystemAPI)  </li> <li>Batch Job:  </li> <li>Input: split file into records  </li> <li>Process: DataWeave transform \u2192 canonical model \u2192 idempotency check  </li> <li>Success: SalesforceSystemAPI.upsertContact  </li> <li>Failure: DLQ  </li> <li>OnComplete: summary notification + persist metrics  </li> </ol>"},{"location":"Mulesoft/APILedArchitecture/#example-2-real-time-platform-event-listener","title":"Example 2 \u2014 Real-Time Platform Event Listener","text":"<ol> <li>SalesforceSystemAPI subscribes to Platform Event / CDC topic  </li> <li>On event receive: push envelope to internal queue (Object Store / Kafka) and ACK Salesforce  </li> <li>Worker Process API consumes messages, validates, transforms, calls other System APIs  </li> <li>Idempotency via event replay ID or unique event key  </li> </ol>"},{"location":"Mulesoft/APILedArchitecture/#sample-mule-xml-snippets","title":"Sample Mule XML Snippets","text":"<p>Global DB Config</p> <pre><code>&lt;db:postgresql-config name=\"Postgres_Config\" host=\"${db.host}\" port=\"${db.port}\" user=\"${db.user}\" password=\"${db.password}\" database=\"${db.name}\" doc:name=\"Postgres Config\"/&gt;\n````\n\n**Scheduler Flow**\n\n```xml\n&lt;flow name=\"scheduled-file-flow\"&gt;\n  &lt;scheduler frequency=\"3600\" timeUnit=\"SECONDS\"/&gt;\n  &lt;flow-ref name=\"Process.File\" /&gt;\n&lt;/flow&gt;\n</code></pre> <p>Global Error Handler</p> <pre><code>&lt;error-handler&gt;\n  &lt;on-error-propagate logException=\"true\" enableNotifications=\"true\" type=\"ANY\"&gt;\n    &lt;set-payload value=\"#[{error: error.description, correlationId: vars.correlationId}]\" /&gt;\n    &lt;logger level=\"ERROR\" message=\"Global error: #[error.description]\" /&gt;\n  &lt;/on-error-propagate&gt;\n&lt;/error-handler&gt;\n</code></pre> <p>Idempotency Check (Pseudo DataWeave)</p> <pre><code>%dw 2.0\noutput application/java\n---\nvar idKey = attributes.headers['Idempotency-Key'] default (payload.id as String)\nif (objectStore.get(idKey) != null) do\n  // return stored response\nelse do\n  objectStore.put(idKey, {response: payload, createdAt: now()}, ttl=86400)\n  // continue processing\n</code></pre>"},{"location":"Mulesoft/APILedArchitecture/#testing-qa","title":"Testing &amp; QA","text":"<ul> <li>Unit tests: MUnit for flows &amp; DataWeave transforms</li> <li>Integration tests: Mock HTTP/SOAP/Salesforce sandbox endpoints</li> <li>Load tests: Emulate parallelism &amp; volume; tune connection pools and bulk sizes</li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#deployment-cicd","title":"Deployment &amp; CI/CD","text":"<ul> <li>Package each API as a separate Mule application</li> <li>Use CI/CD (Anypoint, GitHub Actions, Jenkins) for build, MUnit, staging, and prod deployment</li> <li>Separate environments: Dev / QA / Prod with environment-specific secure properties</li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#operational-runbook-short","title":"Operational Runbook (Short)","text":"<ul> <li>Restart listener flows</li> <li>Replay failed platform events (if persisted)</li> <li>Reprocess DLQ items</li> <li>Inspect Object Store entries for idempotency</li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#tradeoffs-considerations","title":"Tradeoffs &amp; Considerations","text":"<ul> <li>Centralized System APIs \u2192 easier maintenance, adds extra hop/latency</li> <li>Transformations: Prefer Process APIs for canonical mapping</li> <li>Batch vs Real-Time: Bulk API cheaper for large Salesforce writes but adds latency</li> </ul>"},{"location":"Mulesoft/APILedArchitecture/#appendix-checklist-for-implementing-an-api","title":"Appendix: Checklist for Implementing an API","text":"<ul> <li>Create API spec (RAML or OAS) \u2192 publish to Exchange</li> <li>Implement System API per backend</li> <li>Implement Process API for orchestration &amp; transformations</li> <li>Add Experience APIs per consumer</li> <li>Add CI/CD pipelines &amp; environment configs</li> <li>Implement idempotency, DLQ, retries, monitoring</li> </ul>"},{"location":"Mulesoft/AnypointSecureAPI/","title":"Anypoint API Manager \u2013 Secure API Management Guide","text":""},{"location":"Mulesoft/AnypointSecureAPI/#1-overview","title":"1. Overview","text":"<p>This guide describes how to:</p> <ul> <li>Create and manage API instances in Anypoint API Manager  </li> <li>Apply policies (Client ID Enforcement, Rate Limiting, etc.)</li> <li>Configure Auto-Discovery in Mule applications for runtime policy enforcement</li> <li>Register Connected Apps for secure authentication</li> <li>Manage Contracts for consumer access</li> </ul> <p>These steps ensure that MuleSoft APIs are secure, discoverable, and only accessible to authorized clients.</p>"},{"location":"Mulesoft/AnypointSecureAPI/#2-prerequisites","title":"2. Prerequisites","text":"<p>Before starting, ensure:</p> <ul> <li>\u2705 You have Anypoint Platform access with API Manager + Exchange permissions  </li> <li>\u2705 The Mule app is deployed to CloudHub or Runtime Fabric  </li> <li>\u2705 A Connected App is created in Access Management  </li> <li>\u2705 You have an API Auto-Discovery ID from API Manager</li> </ul>"},{"location":"Mulesoft/AnypointSecureAPI/#3-step-by-step-implementation","title":"3. Step-by-Step Implementation","text":""},{"location":"Mulesoft/AnypointSecureAPI/#step-1-publish-api-specification-to-exchange","title":"\u2705 Step 1: Publish API Specification to Exchange","text":"<ol> <li>Design API specification in Design Center (RAML or OAS 3.0)</li> <li>Validate using the API Console</li> <li>Publish to Exchange:</li> <li>Click Publish \u2192 Publish to Exchange</li> <li>Select a business group and set version details</li> </ol> <p>Once published, the API becomes available to create managed instances in API Manager.</p>"},{"location":"Mulesoft/AnypointSecureAPI/#step-2-create-an-api-instance-in-api-manager","title":"\u2705 Step 2: Create an API Instance in API Manager","text":"<ol> <li>Go to Anypoint Platform \u2192 API Manager</li> <li>Click Manage API \u2192 Manage API from Exchange</li> <li>Select your published API specification</li> <li>Configure:</li> <li>Deployment Type: CloudHub, RTF, or Hybrid</li> <li>Environment: Sandbox, Production, etc.</li> <li>Implementation URI: e.g. <code>https://myapi.cloudhub.io/api</code></li> <li>Click Save &amp; Manage API</li> </ol> <p>Your API instance is now created and ready for policies and contracts.</p>"},{"location":"Mulesoft/AnypointSecureAPI/#step-3-apply-security-policies","title":"\u2705 Step 3: Apply Security Policies","text":"<p>Policies enforce authentication, throttling, logging, etc.</p>"},{"location":"Mulesoft/AnypointSecureAPI/#example-apply-client-id-enforcement-policy","title":"Example: Apply Client ID Enforcement Policy","text":"<ol> <li>In API Manager, open your API instance</li> <li>Go to Policies \u2192 Apply New Policy</li> <li>Choose Client ID Enforcement</li> <li>Configure:</li> <li>Client ID / Secret via HTTP Headers or Query Parameters</li> <li>Save the policy</li> </ol> <p>This ensures only registered clients can call the API.</p>"},{"location":"Mulesoft/AnypointSecureAPI/#step-4-enable-auto-discovery-in-mule-application","title":"\u2705 Step 4: Enable Auto-Discovery in Mule Application","text":"<p>Auto-Discovery allows the deployed Mule app to register itself with API Manager.</p>"},{"location":"Mulesoft/AnypointSecureAPI/#a-retrieve-auto-discovery-id","title":"a. Retrieve Auto-Discovery ID","text":"<ul> <li>In API Manager, open the API instance  </li> <li>Go to Settings \u2192 Autodiscovery</li> <li>Copy the API Instance ID</li> </ul>"},{"location":"Mulesoft/AnypointSecureAPI/#b-add-to-mule-configuration","title":"b. Add to Mule Configuration","text":"<p>Example (XML):</p> <pre><code>&lt;api-platform-gw:api id=\"api-auto-discovery\" apiId=\"12345678\" flowRef=\"api-main-flow\" /&gt;\n````\n\nOr configure via **Global Elements** (Mule 4):\n\n* Add **API Autodiscovery**\n* Paste API ID from API Manager\n\n#### c. Deploy the Application\n\nAfter deployment, the app automatically registers with API Manager and policies are enforced at runtime.\n\n---\n\n### \u2705 Step 5: Create a Connected App for Secure Access\n\nConnected Apps represent API consumers.\n\n1. Go to **Access Management \u2192 Connected Apps**\n2. Click **Create App**\n3. Choose **Client Credentials**\n4. Configure:\n\n   * Name: `MyIntegrationApp`\n   * Grant Type: `Client Credentials`\n   * Scopes: assign access as needed\n5. After creation, copy:\n\n   * \u2705 Client ID\n   * \u2705 Client Secret\n\nThese credentials will authenticate API calls.\n\n---\n\n### \u2705 Step 6: Manage API Contracts\n\nContracts determine which apps may consume the API.\n\n1. In **Exchange**, open the API asset\n2. Click **Request Access**\n3. Select:\n\n   * API Instance\n   * Application (Connected App)\n4. After approval, a contract is established\n\nThe consumer now receives the Client ID + Secret needed to call the API.\n\n---\n\n### \u2705 Step 7: Test the Secured API\n\nExample using curl:\n\n```bash\ncurl -X GET https://myapi.cloudhub.io/api/resource \\\n  -H \"client_id: &lt;your_client_id&gt;\" \\\n  -H \"client_secret: &lt;your_client_secret&gt;\"\n</code></pre> <ul> <li>\u2705 Successful request \u2192 valid response</li> <li>\u274c Missing/invalid values \u2192 <code>401</code> or <code>403</code></li> </ul>"},{"location":"Mulesoft/AnypointSecureAPI/#8-additional-security-enhancements","title":"8. Additional Security Enhancements","text":"<ul> <li>Rate Limiting / Spike Control</li> <li>OAuth 2.0 policy for token-based access</li> <li>IP Whitelisting</li> <li>CORS policy</li> <li>TLS/HTTPS enforcement</li> </ul>"},{"location":"Mulesoft/AnypointSecureAPI/#9-monitoring-analytics","title":"9. Monitoring &amp; Analytics","text":"<p>Once Auto-Discovery is enabled, API Manager provides:</p> <ul> <li>Request analytics (volumes, latency, failures)</li> <li>Policy violations</li> <li>Alerts &amp; notifications via Anypoint Monitoring</li> </ul>"},{"location":"Mulesoft/AnypointSecureAPI/#10-best-practices","title":"10. Best Practices","text":"<p>\u2705 Always use Auto-Discovery for centralized governance \u2705 Apply Client ID Enforcement at minimum \u2705 Use Connected Apps + Contracts for consumer access control \u2705 Version APIs and separate Sandbox vs Production \u2705 Rotate client credentials regularly</p>"},{"location":"Mulesoft/ArchitectHLD/","title":"MuleSoft HLD","text":""},{"location":"Mulesoft/ArchitectHLD/#summary","title":"Summary","text":"<p>We will implement an API-led architecture with three layers:</p> <ul> <li>System APIs \u2014 canonical adapters to systems of record (Salesforce, ThirdParty REST API, SQL DB).</li> <li>Process APIs \u2014 orchestration and transformation; reusable business logic.</li> <li>Experience / Orchestration APIs \u2014 interfaces targeted at consumers (Salesforce Flow HTTP endpoint, Scheduler job).</li> </ul> <p>Two integration flows are required:</p> <ol> <li>Salesforce -&gt; MuleSoft -&gt; ThirdParty: on record change in Salesforce a Flow will call an Experience API (HTTP listener in Mule) -&gt; authenticated -&gt; logged -&gt; Process API will transform and call ThirdParty System API (handles auth + call). Responses are returned to Salesforce and logged.</li> <li>SQL -&gt; MuleSoft Scheduler -&gt; Salesforce: scheduled Mule app (cron) will call the SQL System API (JDBC) to extract changed/new rows, Process API transforms into Salesforce object payloads and calls the Salesforce System API to upsert records.</li> </ol>"},{"location":"Mulesoft/ArchitectHLD/#high-level-architecture-text-diagram","title":"High Level Architecture (text + diagram)","text":"<pre><code>flowchart TB\n    %% Salesforce Trigger\n    SF[\"Salesforce Flow / Platform Event\"]:::salesforce\n\n    %% MuleSoft Layers\n    subgraph MuleSoft[\"API-led Architecture\"]\n        direction TB\n        EXP[\"Experience API (acme-exp-sales-inbound)&lt;br&gt;- HTTP Listener&lt;br&gt;- Auth, Validation\"]:::exp\n        PROC_SF3P[\"Process API (acme-proc-sales-to-3p)&lt;br&gt;- Transform &amp; Orchestrate\"]:::proc\n        SAPI_3P[\"System API (acme-sapi-thirdparty-rest)&lt;br&gt;- Call ThirdParty REST\"]:::sapi\n        SAPI_SF[\"System API (acme-sapi-salesforce)&lt;br&gt;- Salesforce Connector\"]:::sapi\n        SCHED[\"Scheduler App (acme-sched-sql-extract)&lt;br&gt;- Cron Trigger\"]:::exp\n        PROC_SQLSF[\"Process API (acme-proc-sql-to-sales)&lt;br&gt;- Transform &amp; Batch Upsert\"]:::proc\n        SAPI_SQL[\"System API (acme-sapi-sql-db)&lt;br&gt;- JDBC Query\"]:::sapi\n    end\n\n    %% Third-Party Systems\n    TP[\"ThirdParty REST API\"]:::external\n    DB[(SQL Database)]:::external\n\n    %% FLOW 1: Salesforce -&gt; Mule -&gt; ThirdParty\n    SF --&gt;|HTTP POST /exp/sales/v1/record-change| EXP\n    EXP --&gt; PROC_SF3P\n    PROC_SF3P --&gt;|Transform + Call| SAPI_3P\n    SAPI_3P --&gt;|POST /third/api| TP\n    TP --&gt;|Response 200/4xx/5xx| SAPI_3P --&gt; PROC_SF3P --&gt; EXP --&gt; SF\n\n    %% FLOW 2: SQL -&gt; Mule -&gt; Salesforce\n    SCHED --&gt;|Cron Trigger| SAPI_SQL\n    SAPI_SQL --&gt;|Changed Records| PROC_SQLSF\n    PROC_SQLSF --&gt;|Transform to Salesforce Schema| SAPI_SF\n    SAPI_SF --&gt;|Upsert via Composite API| SF\n\n    %% Styles\n    classDef exp fill:#4BA3C3,stroke:#2B7A8B,stroke-width:2px,color:white;\n    classDef proc fill:#F5A623,stroke:#C47C00,stroke-width:2px,color:black;\n    classDef sapi fill:#6B8E23,stroke:#476A17,stroke-width:2px,color:white;\n    classDef salesforce fill:#00A1E0,stroke:#0076A8,stroke-width:2px,color:white;\n    classDef external fill:#999,stroke:#333,stroke-width:1.5px,color:white;\n</code></pre>"},{"location":"Mulesoft/ArchitectHLD/#naming-conventions","title":"Naming conventions","text":"<p>Use predictable names for apps, APIs, and artifacts for discoverability and management:</p> <ul> <li>Mule App names: <code>org.domain.layer-purpose-environment</code> e.g. <code>acme.system.thirdparty-rest-prod</code> (or <code>acme-sapi-thirdparty-rest-prod</code>).</li> <li>Maven artifactId: <code>acme-&lt;layer&gt;-&lt;purpose&gt;</code> e.g. <code>acme-sapi-thirdparty-rest</code>.</li> <li>API names (Anypoint Exchange): <code>&lt;Org&gt; - &lt;Layer&gt; - &lt;Purpose&gt; - &lt;API Version&gt;</code> e.g. <code>ACME - SAPI - ThirdParty REST - v1</code>.</li> <li>RAML / OAS files: <code>sapi-thirdparty-rest-1.0.raml</code> or <code>proc-sales-to-thirdparty-1.0.oas</code>.</li> <li>Properties files: <code>dev.properties</code>, <code>test.properties</code>, <code>prod.properties</code> stored in secure manager.</li> <li>Logging correlation id: <code>X-Correlation-ID: &lt;org&gt;-&lt;app&gt;-&lt;uuid&gt;</code>.</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#apis-responsibilities","title":"APIs &amp; responsibilities","text":""},{"location":"Mulesoft/ArchitectHLD/#system-apis","title":"System APIs","text":"<ul> <li> <p>SAPI - Salesforce (acme-sapi-salesforce)</p> </li> <li> <p>Purpose: Wrapper for Salesforce REST API (sObject upsert, composite). Centralizes SF auth and rate-limit handling.</p> </li> <li>Exposes: <code>/sapi/salesforce/v1/upsert</code>, <code>/sapi/salesforce/v1/query</code>.</li> <li> <p>Auth: Client credentials or JWT using a named credential; secrets in secure properties.</p> </li> <li> <p>SAPI - ThirdParty REST (acme-sapi-thirdparty-rest)</p> </li> <li> <p>Purpose: Handle 3rd-party auth (API keys, OAuth), retries, and circuit-breaker logic.</p> </li> <li> <p>Exposes: <code>/sapi/thirdparty/v1/post-job</code>.</p> </li> <li> <p>SAPI - SQL DB (acme-sapi-sql-db)</p> </li> <li> <p>Purpose: JDBC adapter for scheduled reads. Exposes parameterized query endpoints for the scheduler.</p> </li> <li>Exposes: <code>/sapi/sql/v1/query-changes?since=YYYY-MM-DDThh:mm</code>.</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#process-apis","title":"Process APIs","text":"<ul> <li> <p>PAPI - SalesToThirdParty (acme-proc-sales-to-3p)</p> </li> <li> <p>Purpose: Orchestrate Salesforce inbound payloads, enrich/transform into ThirdParty schema, apply business rules, call SAPI-ThirdParty.</p> </li> <li> <p>Responsibilities: Validation, DataWeave transform, idempotency checks (dedupe store), error classification.</p> </li> <li> <p>PAPI - SQLToSales (acme-proc-sql-to-sales)</p> </li> <li> <p>Purpose: Read SQL results, transform to Salesforce object model, batch for upsert to SAPI-Salesforce.</p> </li> <li>Responsibilities: Pagination, chunking, batching, transform mapping, partial-failure handling.</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#experience-exposure-apis","title":"Experience / Exposure APIs","text":"<ul> <li> <p>EXP - SalesInbound (acme-exp-sales-inbound)</p> </li> <li> <p>Purpose: HTTP listener for Salesforce Flow to POST record-change events. Lightweight validation and auth.</p> </li> <li> <p>Endpoint: <code>POST /exp/sales/v1/record-change</code></p> </li> <li> <p>SCHED App</p> </li> <li> <p>Purpose: Cron-based trigger that calls <code>SAPI - SQL</code> to retrieve changes and passes to <code>PAPI - SQLToSales</code>.</p> </li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#sequence-diagrams","title":"Sequence diagrams","text":""},{"location":"Mulesoft/ArchitectHLD/#salesforce-mule-thirdparty-simplified","title":"Salesforce -&gt; Mule -&gt; ThirdParty (simplified)","text":"<pre><code>sequenceDiagram\n  participant SF as Salesforce Flow\n  participant EXP as EXP-SalesInbound\n  participant PROC as PAPI-SalesTo3P\n  participant S3 as SAPI-ThirdParty\n  participant TP as ThirdParty REST\n  SF-&gt;&gt;EXP: POST /exp/sales/v1/record-change {payload}\n  Note right of EXP: Authn via API key / OAuth\n  EXP-&gt;&gt;PROC: validate + enrich\n  PROC-&gt;&gt;S3: transform to thirdparty schema\n  S3-&gt;&gt;TP: POST /third/api\n  TP--&gt;&gt;S3: 200 / error\n  S3--&gt;&gt;PROC: pass response\n  PROC--&gt;&gt;EXP: result\n  EXP--&gt;&gt;SF: 200 / 500\n</code></pre>"},{"location":"Mulesoft/ArchitectHLD/#scheduler-sql-extract-salesforce-upsert-simplified","title":"Scheduler SQL extract -&gt; Salesforce upsert (simplified)","text":"<pre><code>sequenceDiagram\n  participant Sched as Scheduler App\n  participant SQL as SAPI-SQL\n  participant PROC as PAPI-SQLToSales\n  participant SFAPI as SAPI-Salesforce\n  Sched-&gt;&gt;SQL: GET /sapi/sql/v1/query-changes?since=...\n  SQL--&gt;&gt;Sched: rows (paged)\n  Sched-&gt;&gt;PROC: pass rows\n  PROC-&gt;&gt;SFAPI: batch upsert (composite)\n  SFAPI--&gt;&gt;PROC: partial success/fail\n  PROC-&gt;&gt;Sched: ack / errors to DLQ\n</code></pre>"},{"location":"Mulesoft/ArchitectHLD/#data-model-message-contracts-examples","title":"Data model / message contracts (examples)","text":""},{"location":"Mulesoft/ArchitectHLD/#salesforce-exp-example-json-sent-by-salesforce-flow","title":"Salesforce -&gt; EXP (example JSON sent by Salesforce Flow)","text":"<pre><code>{\n  \"correlationId\": \"ACME-SALES-1234-uuid\",\n  \"eventType\": \"Account.Updated\",\n  \"record\": {\n    \"Id\": \"001xx000003NGs1AAG\",\n    \"Name\": \"Acme Ltd\",\n    \"BillingAddress\": {...}\n  },\n  \"changedFields\": [\"BillingAddress\", \"Phone\"]\n}\n</code></pre>"},{"location":"Mulesoft/ArchitectHLD/#thirdparty-payload-example","title":"ThirdParty payload (example)","text":"<pre><code>{\n  \"clientId\": \"001xx000003NGs1AAG\",\n  \"companyName\": \"Acme Ltd\",\n  \"address\": {\n    \"line1\": \"...\",\n    \"city\": \"...\"\n  }\n}\n</code></pre>"},{"location":"Mulesoft/ArchitectHLD/#sql-result-row-salesforce-upsert-example","title":"SQL result row -&gt; Salesforce upsert (example)","text":"<pre><code>{\n  \"external_id__c\": \"ext-123\",\n  \"name\": \"John Smith\",\n  \"email\": \"john.smith@example.com\",\n  \"tenancy_start__c\": \"2025-01-01\"\n}\n</code></pre>"},{"location":"Mulesoft/ArchitectHLD/#security","title":"Security","text":"<ul> <li>Transport: TLS 1.2+ for all endpoints.</li> <li> <p>Authentication:</p> </li> <li> <p>Salesforce -&gt; EXP: use OAuth bearer token or Mutual TLS; prefer signed JWT / Named Credential.</p> </li> <li>Mule -&gt; ThirdParty: use stored credentials in Anypoint Secrets Manager; rotate regularly.</li> <li>Authorization: scoping by API key or OAuth scopes.</li> <li>Secrets: store in Anypoint Secrets Manager / secure properties, never plain text.</li> <li>Network: lock down to VPC/Private Space where required (for on-prem SQL access use VPN/Private Link).</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#error-handling-retries","title":"Error handling &amp; retries","text":"<ul> <li>Client errors (4xx): return to caller with meaningful error codes. Log and mark as business error (no retry).</li> <li>Server errors (5xx): implement retry policy with exponential backoff in System APIs; after <code>N</code> attempts push to DLQ (Anypoint MQ) and create an incident ticket.</li> <li>Idempotency: implement idempotency via <code>X-Idempotency-Key</code> (or storing processed event ids) for duplicate event prevention.</li> <li>Partial failures: when batching to Salesforce, use Composite API and handle partial successes \u2014 enqueue failures for retry with context.</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#logging-auditing","title":"Logging &amp; auditing","text":"<ul> <li>Every request should carry <code>X-Correlation-ID</code> and <code>X-Request-TS</code>.</li> <li>Structured logs (JSON) with at least: correlationId, apiName, operation, status, elapsedMs, ownerApp.</li> <li>Send logs to ELK / Splunk or Anypoint Monitoring. Store audit events of critical operations in a durable store or send to MQ for downstream processing.</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#observability-alerts","title":"Observability &amp; Alerts","text":"<ul> <li> <p>Anypoint Monitoring dashboards for:</p> </li> <li> <p>Request rate / latency per API.</p> </li> <li>Error rate (4xx/5xx) per endpoint.</li> <li>Downstream third-party SLA breaches.</li> <li>Alerts: high error rate, queue depth in DLQ, repeated authentication failures.</li> </ul>"},{"location":"Mulesoft/ArchitectHLD/#non-functional-requirements","title":"Non-functional requirements","text":"<ul> <li>Throughput: sized for expected spikes (give numbers if you have them). Use batching &amp; concurrent processing.</li> <li>SLA: e.g., 99.5% success for day-to-day operations.</li> <li>Latency: sync calls from Salesforce should respond within 2\u20133 seconds where possible; longer-running work can be asynchronous.</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/","title":"Mulesoft Low Level Design (LLD)","text":""},{"location":"Mulesoft/ArchitectLLD/#deployment-model","title":"Deployment model","text":"<ul> <li>Environments: dev -&gt; test -&gt; pre-prod -&gt; prod</li> <li>Runtime: MuleSoft Private Cloud/Runtime Fabric or CloudHub depending on infra</li> <li>Instances: Use cluster for high availability</li> <li>Secrets: Use Anypoint Secrets Manager or Vault integration</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/#mule-applications-and-artifact-layout","title":"Mule applications and artifact layout","text":"<ol> <li> <p><code>acme-exp-sales-inbound</code> (Experience App)</p> </li> <li> <p>HTTP Listener: <code>/exp/sales/v1/record-change</code></p> </li> <li>Policies applied in API Gateway: rate-limit, IP allowlist, client-id enforcement</li> <li> <p>Flow steps: Auth filter -&gt; Validate payload -&gt; enrich (lookup) -&gt; forward to <code>acme-proc-sales-to-3p</code></p> </li> <li> <p><code>acme-proc-sales-to-3p</code> (Process App)</p> </li> <li> <p>Receives internal REST call</p> </li> <li> <p>Steps: validate -&gt; dedupe (Redis/Cache or DB lookup) -&gt; DataWeave transform -&gt; call <code>acme-sapi-thirdparty-rest</code> -&gt; process response -&gt; audit log</p> </li> <li> <p><code>acme-sapi-thirdparty-rest</code> (System App)</p> </li> <li> <p>Handles HTTP Request to ThirdParty API</p> </li> <li> <p>Responsibilities: auth token refresh, timeout &amp; retry policies, circuit-breaker, transform errors to canonical error schema</p> </li> <li> <p><code>acme-sched-sql-extract</code> (Scheduler App)</p> </li> <li> <p>Uses Scheduler (Quartz / Mule scheduler) with cron expression</p> </li> <li>Calls <code>acme-sapi-sql-db</code> to fetch new/changed rows since last successful timestamp (stored in state store)</li> <li> <p>Saves last-run checkpoint atomically</p> </li> <li> <p><code>acme-sapi-sql-db</code> (System App)</p> </li> <li> <p>JDBC connector with parameterized queries and paging</p> </li> <li> <p>Exposes REST endpoint consumed by Scheduler</p> </li> <li> <p><code>acme-proc-sql-to-sales</code> (Process App)</p> </li> <li> <p>Transforms rows into Salesforce composite upsert format in batches (size 200 or composite limits)</p> </li> <li> <p>Calls <code>acme-sapi-salesforce</code></p> </li> <li> <p><code>acme-sapi-salesforce</code> (System App)</p> </li> <li> <p>Uses Salesforce Connector with OAuth2 refresh; handles upsert and composite</p> </li> <li>Handles rate-limit and bulk options if volume is large</li> </ol>"},{"location":"Mulesoft/ArchitectLLD/#dataweave-mapping-examples","title":"DataWeave mapping examples","text":"<p>Simple SalesToThirdParty transform (DW 2.0)</p> <pre><code>%dw 2.0\noutput application/json\nvar record = payload.record\n---\n{\n  clientId: record.Id,\n  companyName: record.Name,\n  address: {\n    line1: record.BillingAddress.street default \"\",\n    city: record.BillingAddress.city default \"\",\n    postcode: record.BillingAddress.postalCode default \"\"\n  }\n}\n</code></pre> <p>SQL row to Salesforce sObject batch</p> <pre><code>%dw 2.0\noutput application/json\nvar rows = payload.rows\n---\nrows map ((r, idx) -&gt; {\n  attributes: { type: \"Contact\" },\n  External_Id__c: r.external_id,\n  Name: r.name,\n  Email: r.email\n})\n</code></pre>"},{"location":"Mulesoft/ArchitectLLD/#error-payload-canonical","title":"Error payload (canonical)","text":"<pre><code>{\n  \"errorId\": \"uuid\",\n  \"correlationId\": \"ACME-SALES-1234\",\n  \"api\": \"acme-proc-sales-to-3p\",\n  \"status\": 502,\n  \"message\": \"Downstream third-party returned 502\",\n  \"details\": { }\n}\n</code></pre>"},{"location":"Mulesoft/ArchitectLLD/#transactional-behavior-idempotency-dedupe","title":"Transactional behavior, idempotency &amp; dedupe","text":"<ul> <li>For inbound Salesforce updates, the Flow should include an <code>eventId</code> or correlation id. The <code>proc</code> layer checks a dedupe store (Redis or DB table with TTL) before processing.</li> <li>For scheduler: use checkpointing of <code>lastProcessedTimestamp</code> in a durable store (database or Redis). If a run fails, the scheduler retries using the previous checkpoint.</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/#retry-policy-circuit-breaker","title":"Retry policy / Circuit breaker","text":"<ul> <li>Retries: 3 attempts with exponential backoff (500ms, 2s, 8s).</li> <li>Circuit breaker: open if failure rate &gt; 50% over 1 minute; half-open test every 30s.</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/#monitoring-dashboards","title":"Monitoring &amp; Dashboards","text":"<ul> <li>Dashboards per API: throughput, p95 latency, error rate, downstream call success.</li> <li>Logs: capture request and response sizes, truncated bodies for privacy.</li> <li>Business metric events: number of records processed per run, number of failed records.</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/#operational-runbooks-summary","title":"Operational runbooks (summary)","text":"<ul> <li>On failed downstream (3rd party): check SAPI-Third logs, rotate token if auth failures, re-run message from DLQ, escalate if &gt; 5 failures.</li> <li>On partial Salesforce upsert failures: extract failed records to a CSV, attempt idempotent retry, or manual remediation via UI.</li> <li>On scheduler failure: restart app, examine last checkpoint; if missing, run range query to reprocess.</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/#testing-strategy","title":"Testing strategy","text":"<ul> <li>Unit tests: DataWeave transformations using MUnit.</li> <li>Integration tests: mock third-party using Wiremock; test partial failures.</li> <li>Performance test: load test scheduler upsert volumes and ensure SLA.</li> <li>Security test: penetration test on APIs and validate secrets handling.</li> </ul>"},{"location":"Mulesoft/ArchitectLLD/#artifacts-to-deliver","title":"Artifacts to deliver","text":"<ol> <li>RAML / OAS for all APIs (Experience, Process, System)</li> <li>Mule application source (Maven project layout) with MUnit tests</li> <li>DataWeave transformation specs and sample payloads</li> <li>Runbooks and rollout checklist</li> <li>Prometheus/Anypoint dashboards and alert rules</li> </ol>"},{"location":"Mulesoft/ArchitectLLD/#next-steps-decisions-needed-from-stakeholders","title":"Next steps / decisions needed from stakeholders","text":"<ul> <li>Confirm expected message volumes and peak throughput to size concurrency and batching.</li> <li>Confirm authentication method Salesforce will use (Platform Event vs HTTP -&gt; Named Credential / JWT).</li> <li>Confirm whether third-party supports bulk/batch endpoints to optimise throughput.</li> <li>Confirm SLA and business error handling preferences (synchronous error to Salesforce or asynchronous acknowledgement).</li> </ul>"},{"location":"Mulesoft/AzureKeyVault/","title":"Azure Key Vault Properties Provider \u2013 MuleSoft Configuration Guide","text":""},{"location":"Mulesoft/AzureKeyVault/#1-overview","title":"1. Overview","text":"<p>This guide explains how to configure MuleSoft\u2019s Azure Key Vault Properties Provider so that your Mule application retrieves secrets directly from Azure Key Vault at runtime \u2014 before the application starts.</p> <p>This allows secure storage of sensitive values (usernames, passwords, API keys) without hardcoding them into Mule configuration files.</p>"},{"location":"Mulesoft/AzureKeyVault/#key-benefits","title":"\u2705 Key Benefits","text":"<ul> <li>Secrets are never stored in plain text in Mule config.</li> <li>Mule retrieves secrets from Azure Key Vault automatically at startup.</li> <li>Works seamlessly with Mule placeholder syntax <code>${propertyName}</code>.</li> <li>Supported across all connectors (Salesforce, DB, HTTP, etc.).</li> </ul>"},{"location":"Mulesoft/AzureKeyVault/#2-prerequisites","title":"2. Prerequisites","text":"Requirement Description Anypoint Runtime Version Mule 4.4+ or Mule 4.5+ Connector Version Azure Key Vault Properties Provider v2.1+ Azure Access Existing Azure Key Vault Credentials Service Principal (Client ID + Secret) with access to Key Vault MuleSoft Access Ability to add dependencies (Studio or Maven)"},{"location":"Mulesoft/AzureKeyVault/#3-high-level-architecture","title":"3. High-Level Architecture","text":"<pre><code>\nMule App \u2192 Azure Key Vault Properties Provider \u2192 Azure Key Vault\n(resolves ${...} placeholders)          (stores secrets)\n\n````\n\n**Runtime behavior**\n\n1. Mule loads config files (config.yaml, global.xml)\n2. When it sees a placeholder (e.g., `${sf.username}`), it calls Azure Key Vault\n3. The resolved secret is injected before the app starts\n\n---\n\n## 4. Step 1: Add the Azure Key Vault Properties Provider\n\n### \u2705 Option A \u2013 Anypoint Studio\n\n1. Open your Mule project  \n2. Go to **Global Elements \u2192 Create \u2192 Search: _Azure Key Vault Properties Provider_**\n3. Select **Azure Key Vault Properties Provider (Properties Placeholder)**\n4. Click OK and configure fields (see Step 2)\n\n### \u2705 Option B \u2013 Maven Dependency\n\nAdd to `pom.xml`:\n\n```xml\n&lt;dependency&gt;\n    &lt;groupId&gt;com.mulesoft.connectors&lt;/groupId&gt;\n    &lt;artifactId&gt;mule-azure-key-vault-properties-provider&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;classifier&gt;mule-plugin&lt;/classifier&gt;\n&lt;/dependency&gt;\n````\n\n---\n\n## 5. Step 2: Configure the Provider\n\n**Global config example:**\n\n```xml\n&lt;azure-keyvault-properties-provider:config name=\"Azure_KeyVault_Config\"\n    doc:name=\"Azure Key Vault Properties Provider\"\n    client-id=\"${azure.client.id}\"\n    client-secret=\"${azure.client.secret}\"\n    tenant-id=\"${azure.tenant.id}\"\n    vault-name=\"${azure.vault.name}\"\n    key-vault-url=\"https://${azure.vault.name}.vault.azure.net/\"\n    connection-timeout=\"30000\"\n    read-timeout=\"30000\" /&gt;\n</code></pre>"},{"location":"Mulesoft/AzureKeyVault/#parameter-description","title":"Parameter Description","text":"Parameter Description client-id Azure App Registration (Service Principal) client ID client-secret Service principal client secret tenant-id Azure AD tenant ID vault-name Name of the Azure Key Vault key-vault-url Vault URL (e.g., <code>https://myvault.vault.azure.net/</code>) connection-timeout (Optional) Connection timeout (ms) read-timeout (Optional) Read timeout (ms) <p>These can be placed in <code>mule-artifact.properties</code> or secure external config.</p>"},{"location":"Mulesoft/AzureKeyVault/#6-step-3-store-secrets-in-azure-key-vault","title":"6. Step 3: Store Secrets in Azure Key Vault","text":"<ol> <li>Go to Azure Portal</li> <li>Navigate to:    Key Vaults \u2192 [Your Vault] \u2192 Secrets \u2192 Generate/Import</li> <li>Create secrets for Mule</li> </ol> <p>Example:</p> Azure Secret Name Value <code>sf.username</code> salesforce_user@domain.com <code>sf.password</code> P@ssw0rd123 <code>sf.token</code> a1b2c3d4e5f6 <p>The secret names must match the Mule placeholder keys exactly.</p>"},{"location":"Mulesoft/AzureKeyVault/#7-step-4-reference-secrets-in-mule","title":"7. Step 4: Reference Secrets in Mule","text":"<p>You can use them like normal <code>${...}</code> placeholders.</p>"},{"location":"Mulesoft/AzureKeyVault/#salesforce-config-example","title":"\u2705 Salesforce Config Example","text":"<pre><code>&lt;sfdc:config name=\"Salesforce_Config\"\n             doc:name=\"Salesforce Configuration\"\n             username=\"${sf.username}\"\n             password=\"${sf.password}\"\n             securityToken=\"${sf.token}\"\n             authentication=\"BASIC\"&gt;\n    &lt;sfdc:connection host=\"login.salesforce.com\"/&gt;\n&lt;/sfdc:config&gt;\n</code></pre> <p>Mule will:</p> <ol> <li>Read <code>${sf.username}</code>, <code>${sf.password}</code>, <code>${sf.token}</code></li> <li>Query Azure Key Vault</li> <li>Inject values before startup</li> </ol>"},{"location":"Mulesoft/AzureKeyVault/#8-step-5-verify-the-integration","title":"8. Step 5: Verify the Integration","text":"<p>Deploy to CloudHub, RTF, or local runtime.</p> <p>Check logs for secret retrieval:</p> <pre><code>INFO  [Azure Key Vault Properties Provider] Successfully retrieved secret 'sf.username' from vault 'mykeyvault'\n</code></pre> <p>Then confirm the connector initializes successfully.</p>"},{"location":"Mulesoft/AzureKeyVault/#9-optional-multiple-environment-support","title":"9. Optional: Multiple Environment Support","text":"<p>Use separate vaults or name patterns.</p>"},{"location":"Mulesoft/AzureKeyVault/#example-vaults","title":"Example vaults","text":"<ul> <li><code>mykeyvault-dev</code></li> <li><code>mykeyvault-prod</code></li> </ul>"},{"location":"Mulesoft/AzureKeyVault/#example-secret-naming","title":"Example secret naming","text":"<ul> <li><code>sf.username.dev</code></li> <li><code>sf.username.prod</code></li> </ul> <p>Reference dynamically:</p> <pre><code>username=\"${sf.username.${mule.env}}\"\n</code></pre> <p>In <code>mule-artifact.properties</code>:</p> <pre><code>mule.env=dev\n</code></pre>"},{"location":"Mulesoft/AzureKeyVault/#10-troubleshooting","title":"10. Troubleshooting","text":"Issue Cause Resolution Secret not found Wrong secret name Ensure secret name matches Mule placeholder App fails to start Invalid credentials Check service principal and tenant ID 403 Forbidden Missing access policy Add Key Vault access policy with Get permissions Timeout Network/firewall issue Ensure Mule runtime can reach <code>*.vault.azure.net</code>"},{"location":"Mulesoft/AzureKeyVault/#11-security-best-practices","title":"11. Security Best Practices","text":"<p>\u2705 Use Managed Identities instead of client secrets when possible \u2705 Grant least privilege access in Key Vault \u2705 Rotate secrets regularly \u2705 Do not commit credentials to source control \u2705 Enable Azure Monitor for Key Vault access logging</p>"},{"location":"Mulesoft/AzureKeyVault/#12-reference-links","title":"12. Reference Links","text":"<ul> <li>MuleSoft Azure Key Vault Properties Provider v2.1 Docs</li> <li>Azure Key Vault Documentation</li> <li>MuleSoft Secure Property Placeholder Best Practices</li> </ul> <p>```</p>"},{"location":"Mulesoft/ObjectStore/","title":"MuleSoft Object Store Guide","text":""},{"location":"Mulesoft/ObjectStore/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>The Object Store in MuleSoft is a key\u2013value storage mechanism used to persist data across Mule flows or application executions. It enables data storage between executions, Mule components, or different Mule apps depending on configuration: in-memory, persistent, or external.</p>"},{"location":"Mulesoft/ObjectStore/#2-what-is-an-object-store","title":"2\ufe0f\u20e3 What Is an Object Store?","text":"<ul> <li>Stores objects (Strings, JSON, serialized Java objects) with a unique key.  </li> <li>Acts like a small database for temporary or persistent data.</li> </ul> <p>Common Uses: - Caching API responses - Tracking batch job progress - Managing scheduler locks - Storing tokens or timestamps - Deduplication or debounce logic</p>"},{"location":"Mulesoft/ObjectStore/#3-why-use-an-object-store","title":"3\ufe0f\u20e3 Why Use an Object Store?","text":"Use Case Description State Management Track variables/timestamps across executions Deduplication Avoid processing duplicate messages Scheduler Control Store last run time or lock flags Caching Reduce latency by caching API/DB results Token Management Store API tokens until expiration Resiliency Persist data across app restarts"},{"location":"Mulesoft/ObjectStore/#4-object-store-types","title":"4\ufe0f\u20e3 Object Store Types","text":"Type Description Lifetime Example Use In-Memory JVM memory Lost after restart Scheduler flags, transient cache Persistent Stored on disk Survives restart Timestamps, tokens Cloud Object Store v2 Managed by CloudHub Survives redeploy Production persistence Custom External (Redis, DB, etc.) Depends on impl. Enterprise-scale caching"},{"location":"Mulesoft/ObjectStore/#5-object-store-connector-operations","title":"5\ufe0f\u20e3 Object Store Connector Operations","text":""},{"location":"Mulesoft/ObjectStore/#1-store","title":"1. Store","text":"<pre><code>&lt;os:store key=\"lastRunTimestamp\" objectStore=\"SchedulerStore\"&gt;\n    &lt;os:value&gt;&lt;![CDATA[#[vars.currentTimestamp]]]&gt;&lt;/os:value&gt;\n&lt;/os:store&gt;\n````\n\n* Save timestamps, tokens, or calculated values.\n\n### 2. Retrieve\n\n```xml\n&lt;os:retrieve key=\"lastRunTimestamp\" objectStore=\"SchedulerStore\"&gt;\n    &lt;os:default-value&gt;&lt;![CDATA[#['1900-01-01 00:00:00.000']]]&gt;&lt;/os:default-value&gt;\n&lt;/os:retrieve&gt;\n</code></pre> <ul> <li>Fetch stored data; return default if key missing.</li> </ul>"},{"location":"Mulesoft/ObjectStore/#3-contains","title":"3. Contains","text":"<pre><code>&lt;os:contains key=\"token\" objectStore=\"AuthStore\" /&gt;\n</code></pre> <ul> <li>Conditional logic:</li> </ul> <pre><code>&lt;choice&gt;\n  &lt;when expression=\"#[!payload]\"&gt;\n    &lt;!-- Generate new token --&gt;\n  &lt;/when&gt;\n  &lt;otherwise&gt;\n    &lt;!-- Use cached token --&gt;\n  &lt;/otherwise&gt;\n&lt;/choice&gt;\n</code></pre>"},{"location":"Mulesoft/ObjectStore/#4-remove","title":"4. Remove","text":"<pre><code>&lt;os:remove key=\"token\" objectStore=\"AuthStore\" /&gt;\n</code></pre> <ul> <li>Delete expired tokens or stale data.</li> </ul>"},{"location":"Mulesoft/ObjectStore/#5-clear","title":"5. Clear","text":"<pre><code>&lt;os:clear objectStore=\"SchedulerStore\" /&gt;\n</code></pre> <ul> <li>Reset store completely (use carefully in production).</li> </ul>"},{"location":"Mulesoft/ObjectStore/#6-defining-an-object-store","title":"6\ufe0f\u20e3 Defining an Object Store","text":"<p>In-Memory Example:</p> <pre><code>&lt;os:object-store name=\"SchedulerStore\" persistent=\"false\" /&gt;\n</code></pre> <p>Persistent Example:</p> <pre><code>&lt;os:object-store name=\"SchedulerStore\" persistent=\"true\" entryTtl=\"0\" /&gt;\n</code></pre> <p>Attributes:</p> Attribute Description persistent true = stored on disk, survives restart entryTtl Time-to-live (ms); 0 = never expire maxEntries Maximum number of entries expirationInterval How often expired entries are cleaned"},{"location":"Mulesoft/ObjectStore/#7-cloudhub-object-store-v2","title":"7\ufe0f\u20e3 CloudHub Object Store v2","text":"<ul> <li>Fully managed, persistent, per-app isolation</li> <li>Scalable for production workloads</li> <li>Accessible via Anypoint Runtime Manager UI/API</li> </ul> <p>Note: Each worker has isolated store unless configured as shared.</p>"},{"location":"Mulesoft/ObjectStore/#8-common-use-cases-and-patterns","title":"8\ufe0f\u20e3 Common Use Cases and Patterns","text":"Use Case Example Scheduler Control Last execution timestamp Token Cache API access token until expiry Request Deduplication Store message IDs for 24h Batch Progress Tracking Record offsets for partial restarts Temporary Caching DB query results Locking Mechanism Key as lock indicator for scheduling"},{"location":"Mulesoft/ObjectStore/#9-example-scheduler-with-persistent-timestamp","title":"9\ufe0f\u20e3 Example: Scheduler with Persistent Timestamp","text":"<pre><code>&lt;flow name=\"DailyJobFlow\"&gt;\n    &lt;scheduler frequency=\"1d\" timeZone=\"Europe/London\" /&gt;\n\n    &lt;os:retrieve key=\"lastRunTimestamp\" objectStore=\"SchedulerStore\"&gt;\n        &lt;os:default-value&gt;&lt;![CDATA[#['1900-01-01 00:00:00.000']]]&gt;&lt;/os:default-value&gt;\n    &lt;/os:retrieve&gt;\n\n    &lt;logger message=\"Last run: #[payload]\" level=\"INFO\" /&gt;\n\n    &lt;!-- Processing logic --&gt;\n\n    &lt;set-variable variableName=\"currentTimestamp\" value=\"#[now() as String {format: 'yyyy-MM-dd HH:mm:ss.SSS'}]\" /&gt;\n    &lt;os:store key=\"lastRunTimestamp\" objectStore=\"SchedulerStore\"&gt;\n        &lt;os:value&gt;&lt;![CDATA[#[vars.currentTimestamp]]]&gt;&lt;/os:value&gt;\n    &lt;/os:store&gt;\n&lt;/flow&gt;\n</code></pre> <p>Outcome:</p> <ul> <li>Retrieves last run time</li> <li>Executes logic</li> <li>Updates timestamp</li> <li>Value persists after redeploy</li> </ul>"},{"location":"Mulesoft/ObjectStore/#10-integration-with-azure-pipeline","title":"10\ufe0f\u20e3 Integration with Azure Pipeline","text":"<ul> <li>Object Store config remains within the Mule app</li> <li>Store names, TTLs, keys can be externalized</li> </ul> <pre><code>variables:\n  - group: MuleSoft-Dev\n\nsteps:\n  - task: Bash@3\n    script: |\n      mvn deploy \\\n        -Dmule.env=dev \\\n        -DobjectStoreName=$(objectStoreName)\n</code></pre> <p>Mule XML:</p> <pre><code>&lt;os:object-store name=\"${objectStoreName}\" persistent=\"true\" /&gt;\n</code></pre>"},{"location":"Mulesoft/ObjectStore/#11-best-practices","title":"11\ufe0f\u20e3 Best Practices","text":"Category Recommendation Persistence Use <code>persistent=\"true\"</code> for critical data Key Naming Meaningful, unique keys (<code>jobName:lastRun</code>, <code>token:${system}</code>) Expiration Set <code>entryTtl</code> for transient caches Size Management Configure <code>maxEntries</code> to prevent unbounded growth Security Avoid storing sensitive data unless encrypted Error Handling Use <code>&lt;os:default-value&gt;</code> when retrieving keys Cleanup Remove/clear keys as part of maintenance/testing"},{"location":"Mulesoft/ObjectStore/#12-troubleshooting","title":"12\ufe0f\u20e3 Troubleshooting","text":"Issue Likely Cause Fix Value lost after redeploy Store not persistent Set <code>persistent=\"true\"</code> Key not found Key expired/removed Use default value on retrieve Object store full maxEntries exceeded Increase limit or clear old entries Unexpected sharing Same store name used Use unique names per app/environment"},{"location":"Mulesoft/ObjectStore/#13-summary-table","title":"13\ufe0f\u20e3 Summary Table","text":"Connector Operation Purpose Common Use <code>&lt;os:store&gt;</code> Save data under a key Timestamps, tokens <code>&lt;os:retrieve&gt;</code> Fetch stored value Last run data <code>&lt;os:contains&gt;</code> Check key existence Token cache validation <code>&lt;os:remove&gt;</code> Delete specific entry Token invalidation <code>&lt;os:clear&gt;</code> Clear entire store Reset job or cache"},{"location":"Mulesoft/ObjectStore/#14-visual-summary","title":"14\ufe0f\u20e3 Visual Summary","text":"<pre><code>                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502     Mule Object Store     \u2502\n                \u2502 (in-memory / persistent)  \u2502\n                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u25bc                     \u25bc                     \u25bc\n [os:store]           [os:retrieve]          [os:contains]\n Save key-value        Get by key             Check key exists\n      \u2502                     \u2502                     \u2502\n      \u25bc                     \u25bc                     \u25bc\n [os:remove]           [os:clear]            [Scheduler Flow]\n Delete entry           Reset store           Use timestamp\n</code></pre> <p>Key Takeaways:</p> <ul> <li>Object Store = key-value persistence mechanism</li> <li>In-memory \u2192 temporary; persistent \u2192 survives restarts</li> <li>CloudHub OSv2 \u2192 persistent by default</li> <li>Use for tokens, timestamps, caching, deduplication, and state tracking</li> <li>Externalize store names/settings for CI/CD integration</li> </ul>"},{"location":"Mulesoft/ObjectStoreLock/","title":"MuleSoft Scheduler + CDC Pattern with Object Store Lock","text":""},{"location":"Mulesoft/ObjectStoreLock/#purpose","title":"\ud83d\udcd8 Purpose","text":"<p>This document explains how to:</p> <ul> <li>Prevent parallel executions of a scheduled MuleSoft job when a previous run hasn\u2019t completed  </li> <li>Implement incremental data extraction (CDC) from SQL Server using a timestamp watermark pattern  </li> </ul> <p>This ensures data consistency, idempotent execution, and no overlap between runs.</p>"},{"location":"Mulesoft/ObjectStoreLock/#1-overview-of-components","title":"\ud83e\udde9 1. Overview of Components","text":"Component Purpose Scheduler Triggers Mule flow periodically (e.g., every 2 minutes) Object Store (<code>SchedulerLockStore</code>) Maintains lock and state (lock flag, last run timestamp) Azure Key Vault Stores DB credentials and API secrets securely Database Connector Queries SQL Server CDC view for incremental changes HTTP Request Pushes changed records to Salesforce Process API"},{"location":"Mulesoft/ObjectStoreLock/#2-preventing-parallel-execution","title":"\ud83d\uded1 2. Preventing Parallel Execution","text":""},{"location":"Mulesoft/ObjectStoreLock/#objective","title":"\ud83c\udfaf Objective","text":"<p>Ensure that only one instance of the scheduler runs at a time. If a job takes longer than its scheduled interval, the next run waits or skips.</p>"},{"location":"Mulesoft/ObjectStoreLock/#mechanism-object-store-based-lock","title":"\u2699\ufe0f Mechanism: Object Store-Based Lock","text":"<ul> <li>A flag (<code>isRunning</code>) is stored in an Object Store at the start of each run  </li> <li>If another instance finds the key already present, it skips execution  </li> <li>The flag is removed when the flow completes (success or error)</li> </ul>"},{"location":"Mulesoft/ObjectStoreLock/#implementation-steps","title":"\ud83d\udd39 Implementation Steps","text":""},{"location":"Mulesoft/ObjectStoreLock/#step-1-scheduler","title":"Step 1: Scheduler","text":"<pre><code>&lt;scheduler&gt;\n  &lt;scheduling-strategy&gt;\n    &lt;fixed-frequency frequency=\"5\" timeUnit=\"MINUTES\"/&gt;\n  &lt;/scheduling-strategy&gt;\n&lt;/scheduler&gt;\n````\n\n#### Step 2: Acquire Lock\n\n```xml\n&lt;os:store key=\"isRunning\" objectStore=\"SchedulerLockStore\" failIfPresent=\"true\"&gt;\n  &lt;os:value&gt;true&lt;/os:value&gt;\n&lt;/os:store&gt;\n</code></pre> <p><code>failIfPresent=\"true\"</code> ensures atomic lock creation. If the key exists, Mule throws <code>OS:KEY_ALREADY_EXISTS</code>.</p>"},{"location":"Mulesoft/ObjectStoreLock/#step-3-skip-if-locked","title":"Step 3: Skip if Locked","text":"<pre><code>&lt;on-error-continue type=\"OS:KEY_ALREADY_EXISTS\"&gt;\n  &lt;logger level=\"INFO\" message=\"Scheduler is still running, new run was skipped\"/&gt;\n&lt;/on-error-continue&gt;\n</code></pre>"},{"location":"Mulesoft/ObjectStoreLock/#step-4-release-lock","title":"Step 4: Release Lock","text":"<p>At the end of execution (success or failure):</p> <pre><code>&lt;os:remove key=\"isRunning\" objectStore=\"SchedulerLockStore\"/&gt;\n</code></pre>"},{"location":"Mulesoft/ObjectStoreLock/#error-handling-pattern","title":"\ud83d\udd39 Error Handling Pattern","text":"<p>Wrap the flow in a try scope:</p> <pre><code>&lt;on-error-propagate&gt;\n  &lt;os:remove key=\"isRunning\" objectStore=\"SchedulerLockStore\"/&gt;\n  &lt;logger level=\"ERROR\" message=\"Flow failed. Lock released. Error: #[error.description]\"/&gt;\n&lt;/on-error-propagate&gt;\n</code></pre> <p>Result: Only one scheduler run executes at a time, preventing overlapping runs and DB contention.</p>"},{"location":"Mulesoft/ObjectStoreLock/#3-change-data-capture-cdc-implementation","title":"\ud83d\udd04 3. Change Data Capture (CDC) Implementation","text":""},{"location":"Mulesoft/ObjectStoreLock/#objective_1","title":"\ud83c\udfaf Objective","text":"<p>Extract only new or changed records since the last successful run.</p>"},{"location":"Mulesoft/ObjectStoreLock/#mechanism-timestamp-watermark-pattern","title":"\u2699\ufe0f Mechanism: Timestamp Watermark Pattern","text":""},{"location":"Mulesoft/ObjectStoreLock/#step-1-retrieve-last-run-timestamp","title":"Step 1: Retrieve Last Run Timestamp","text":"<pre><code>&lt;os:retrieve key=\"lastAssetRunTimestamp\" objectStore=\"SchedulerLockStore\"&gt;\n  &lt;os:default-value&gt;#['1900-01-01 00:00:00.000']&lt;/os:default-value&gt;\n&lt;/os:retrieve&gt;\n</code></pre> <ul> <li>Defaults to baseline date for first run</li> <li>Stored in Object Store for subsequent runs</li> </ul>"},{"location":"Mulesoft/ObjectStoreLock/#step-2-build-incremental-sql-query","title":"Step 2: Build Incremental SQL Query","text":"<pre><code>SELECT DISTINCT Asset_ID, ChangeTimestamp, ...\nFROM [dbo].[Usr_SW_Salesforce_Assets_Changes_V]\nWHERE ChangeTimestamp &gt; '2025-10-08 00:00:00.000'\nORDER BY ChangeTimestamp ASC\nOFFSET 0 ROWS FETCH NEXT 500 ROWS ONLY;\n</code></pre> <ul> <li><code>ChangeTimestamp</code> identifies new/updated records</li> <li><code>OFFSET/FETCH</code> enables pagination</li> </ul>"},{"location":"Mulesoft/ObjectStoreLock/#step-3-process-and-push-records","title":"Step 3: Process and Push Records","text":"<ul> <li>Mask sensitive fields (optional)</li> <li>Transform to JSON</li> <li>POST to Salesforce PAPI endpoint</li> </ul>"},{"location":"Mulesoft/ObjectStoreLock/#step-4-capture-latest-change-timestamp","title":"Step 4: Capture Latest Change Timestamp","text":"<pre><code>&lt;ee:set-variable variableName=\"maxChangeTimestamp\"&gt;\n&lt;![CDATA[%dw 2.0\noutput application/java\n---\nif (isEmpty(payload)) null\nelse (payload.ChangeTimestamp default [])\n  reduce ((item, acc=max(item, acc)) -&gt; \n      if (acc == null) item else if (item &gt; acc) item else acc)\n]]&gt;\n&lt;/ee:set-variable&gt;\n</code></pre>"},{"location":"Mulesoft/ObjectStoreLock/#step-5-persist-new-watermark","title":"Step 5: Persist New Watermark","text":"<pre><code>&lt;os:store key=\"lastAssetRunTimestamp\" objectStore=\"SchedulerLockStore\"&gt;\n  &lt;os:value&gt;&lt;![CDATA[#[[vars.maxChangeTimestamp as String {format: \"yyyy-MM-dd HH:mm:ss.SSS\"}]]]]&gt;&lt;/os:value&gt;\n&lt;/os:store&gt;\n</code></pre> <p>Ensures continuity for the next CDC run.</p>"},{"location":"Mulesoft/ObjectStoreLock/#4-control-flow-summary","title":"\ud83e\udde0 4. Control Flow Summary","text":"Step Component Purpose 1 Scheduler Triggers periodic run 2 Object Store Lock Prevents overlapping runs 3 Retrieve Secrets Secure DB &amp; API credentials 4 CDC Query Get new/changed records 5 Post to Salesforce Send incremental data 6 Update Timestamp Record latest processed timestamp 7 Remove Lock Release for next execution"},{"location":"Mulesoft/ObjectStoreLock/#5-key-design-considerations","title":"\ud83e\uddf1 5. Key Design Considerations","text":"Area Best Practice Object Store TTL Set slightly longer than runtime to prevent orphan locks Atomic Locking <code>failIfPresent=true</code> ensures exclusivity Fault Tolerance Wrap DB and HTTP calls in <code>until-successful</code> Idempotency Downstream systems should tolerate duplicates if CDC replays Scalability Paginate using offset/limit for large datasets Auditability Store run metadata (start/end times, record count) if traceability needed"},{"location":"Mulesoft/ObjectStoreLock/#6-example-runtime-behavior","title":"\ud83e\udde9 6. Example Runtime Behavior","text":"Time Action Result 00:00 Scheduler triggers Lock acquired \u2192 starts 00:01 Second scheduler tick Lock exists \u2192 skipped 00:02 Processing completed Lock removed 00:03 Next run starts Queries only records &gt; last run timestamp"},{"location":"Mulesoft/ObjectStoreLock/#7-benefits-of-this-pattern","title":"\ud83d\udce6 7. Benefits of This Pattern","text":"<ul> <li>\u2705 No duplicate processing \u2014 only new/changed records processed</li> <li>\u2705 No overlapping executions \u2014 lock ensures single instance</li> <li>\u2705 Recoverable \u2014 lock auto-expires; watermark persists</li> <li>\u2705 Scalable and maintainable \u2014 suitable for nightly/hourly or near real-time syncs</li> </ul>"},{"location":"Mulesoft/ObjectStoreLock/#8-summary","title":"\ud83e\uddfe 8. Summary","text":"Aspect Implementation Locking Mechanism Object Store with <code>failIfPresent</code> CDC Source SQL Server CDC / ChangeTimestamp view State Management Object Store key for timestamp watermark Security Azure Key Vault for DB &amp; API secrets Error Handling Custom on-error scopes for lock cleanup &amp; retries Integration Pattern Scheduler \u2192 CDC Query \u2192 Transformation \u2192 Salesforce API"},{"location":"Mulesoft/Routing/","title":"\ud83e\udded MuleSoft Routing and Orchestration Patterns","text":""},{"location":"Mulesoft/Routing/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>MuleSoft provides a set of routing and orchestration components that control how messages move through your integration flows. These are essential for:</p> <ul> <li>\u2705 Conditional processing</li> <li>\u2705 Parallel processing</li> <li>\u2705 Load balancing</li> <li>\u2705 Aggregating responses</li> </ul>"},{"location":"Mulesoft/Routing/#core-routing-components","title":"Core Routing Components","text":"Router / Pattern Description Choice Router Routes messages conditionally, like <code>if-else</code>. Scatter-Gather Executes multiple routes in parallel and aggregates results. Round-Robin Router Distributes messages evenly across multiple routes. First Successful / Until Successful / All Implements failover, retries, or sequential multi-route processing."},{"location":"Mulesoft/Routing/#2-choice-router","title":"2\ufe0f\u20e3 Choice Router","text":""},{"location":"Mulesoft/Routing/#definition","title":"\ud83e\udde9 Definition","text":"<p>The Choice Router conditionally routes messages based on a DataWeave expression \u2014 similar to an <code>if-else-if</code> construct.</p> <p>It:</p> <ul> <li>Evaluates conditions sequentially.</li> <li>Routes the message to the first matching route.</li> <li>Supports a final <code>otherwise</code> path as a default.</li> </ul>"},{"location":"Mulesoft/Routing/#syntax","title":"\ud83d\udd27 Syntax","text":"<pre><code>&lt;choice doc:name=\"Choice Router\"&gt;\n    &lt;when expression=\"#[payload.type == 'A']\"&gt;\n        &lt;logger message=\"Processing Type A\" level=\"INFO\"/&gt;\n    &lt;/when&gt;\n    &lt;when expression=\"#[payload.type == 'B']\"&gt;\n        &lt;logger message=\"Processing Type B\" level=\"INFO\"/&gt;\n    &lt;/when&gt;\n    &lt;otherwise&gt;\n        &lt;logger message=\"Processing default type\" level=\"INFO\"/&gt;\n    &lt;/otherwise&gt;\n&lt;/choice&gt;\n</code></pre>"},{"location":"Mulesoft/Routing/#use-cases","title":"\ud83d\udca1 Use Cases","text":"<ul> <li>Routing based on payload values or headers</li> <li>Conditional execution of subflows</li> <li>Dynamic API processing (e.g., query parameter-based branching)</li> </ul>"},{"location":"Mulesoft/Routing/#3-scatter-gather-router","title":"3\ufe0f\u20e3 Scatter-Gather Router","text":""},{"location":"Mulesoft/Routing/#definition_1","title":"\ud83e\udde9 Definition","text":"<p>Scatter-Gather allows parallel execution of multiple routes and then aggregates all responses into a single payload.</p> <ul> <li>Executes all routes concurrently</li> <li>Returns a list of responses</li> </ul>"},{"location":"Mulesoft/Routing/#syntax_1","title":"\ud83d\udd27 Syntax","text":"<pre><code>&lt;scatter-gather doc:name=\"Scatter-Gather\"&gt;\n    &lt;flow-ref name=\"FlowA\"/&gt;\n    &lt;flow-ref name=\"FlowB\"/&gt;\n&lt;/scatter-gather&gt;\n</code></pre>"},{"location":"Mulesoft/Routing/#example-output","title":"\ud83e\uddfe Example Output","text":"<pre><code>[\n  { \"FlowA\": { ... } },\n  { \"FlowB\": { ... } }\n]\n</code></pre>"},{"location":"Mulesoft/Routing/#use-cases_1","title":"\ud83d\udca1 Use Cases","text":"<ul> <li>Parallel API calls</li> <li>Multi-system data enrichment</li> <li>Aggregating responses from multiple backends</li> <li>Reducing latency through concurrent processing</li> </ul>"},{"location":"Mulesoft/Routing/#4-round-robin-router","title":"4\ufe0f\u20e3 Round-Robin Router","text":""},{"location":"Mulesoft/Routing/#definition_2","title":"\ud83e\udde9 Definition","text":"<p>Round-Robin Router distributes messages evenly across configured routes \u2014 useful for simple load balancing within a Mule application.</p>"},{"location":"Mulesoft/Routing/#syntax_2","title":"\ud83d\udd27 Syntax","text":"<pre><code>&lt;round-robin doc:name=\"Round Robin Router\"&gt;\n    &lt;flow-ref name=\"Flow1\"/&gt;\n    &lt;flow-ref name=\"Flow2\"/&gt;\n&lt;/round-robin&gt;\n</code></pre>"},{"location":"Mulesoft/Routing/#use-cases_2","title":"\ud83d\udca1 Use Cases","text":"<ul> <li>Even task distribution across flows</li> <li>Load balancing between endpoints</li> <li>Ensuring balanced parallel processing</li> </ul>"},{"location":"Mulesoft/Routing/#5-other-routing-patterns","title":"5\ufe0f\u20e3 Other Routing Patterns","text":"Router / Component Description Use Case First Successful Sends message to multiple routes; returns first success Failover handling Until Successful Retries route until success or max attempts Retry transient failures All Executes all routes sequentially Sequential multi-step operations Flow-Ref Invokes another flow Modular subflow execution Message Filter Filters messages by condition Pre-routing validation"},{"location":"Mulesoft/Routing/#6-example-combining-choice-scatter-gather","title":"6\ufe0f\u20e3 Example \u2013 Combining Choice + Scatter-Gather","text":"<pre><code>&lt;flow name=\"MainFlow\"&gt;\n    &lt;http:listener config-ref=\"HTTP_Listener_Config\" path=\"/process\"/&gt;\n\n    &lt;choice doc:name=\"Route Based on Type\"&gt;\n        &lt;when expression=\"#[payload.type == 'ASYNC']\"&gt;\n            &lt;scatter-gather doc:name=\"Parallel Processing\"&gt;\n                &lt;flow-ref name=\"AsyncFlowA\"/&gt;\n                &lt;flow-ref name=\"AsyncFlowB\"/&gt;\n            &lt;/scatter-gather&gt;\n        &lt;/when&gt;\n        &lt;otherwise&gt;\n            &lt;logger message=\"Synchronous processing\" level=\"INFO\"/&gt;\n        &lt;/otherwise&gt;\n    &lt;/choice&gt;\n&lt;/flow&gt;\n</code></pre>"},{"location":"Mulesoft/Routing/#explanation","title":"\u2705 Explanation","text":"<ul> <li>Routes messages of type <code>ASYNC</code> to multiple flows in parallel</li> <li>Other messages are handled synchronously</li> </ul>"},{"location":"Mulesoft/Routing/#7-combining-routers","title":"7\ufe0f\u20e3 Combining Routers","text":"Combination Purpose Choice + Round-Robin Conditional load balancing Scatter-Gather + Until Successful Parallel processing with retries Choice + Flow-Ref Modular conditional routing <p>These combinations allow complex orchestration and fault-tolerant processing.</p>"},{"location":"Mulesoft/Routing/#8-best-practices","title":"8\ufe0f\u20e3 Best Practices","text":"Practice Reason Always include <code>&lt;otherwise&gt;</code> in Choice Prevents unhandled messages Limit routes in Scatter-Gather Avoid CPU/memory overload Use Round-Robin within the same runtime only For cross-app, use VM or JMS Use Flow-Refs Keep logic modular and maintainable Monitor Scatter-Gather payload size Large aggregations can impact memory Use appropriate error-handling Combine routers with <code>error-handler</code> scopes"},{"location":"Mulesoft/Routing/#9-troubleshooting","title":"9\ufe0f\u20e3 Troubleshooting","text":"Symptom Likely Cause Recommended Fix Message not routed No matching Choice condition Review DataWeave expressions Scatter-Gather fails One route throws exception Add error handling or use First Successful Round-Robin imbalance Different consumer configs Align route configurations High memory usage Large aggregated payloads Stream or batch process data"},{"location":"Mulesoft/Routing/#summary-table","title":"\ud83d\udd1f Summary Table","text":"Router Purpose Pattern Type Key Feature Choice Conditional routing Sequential First matching route Scatter-Gather Parallel aggregation Fork-Join Concurrent execution Round-Robin Load balancing Sequential Even distribution First Successful Failover Parallel Returns first success Until Successful Retry Loop Automatic retries Flow-Ref Modular logic Subflow Reusable, composable flows All Sequential execution Aggregation Executes all routes"},{"location":"Mulesoft/Routing/#11-visual-summary","title":"11\ufe0f\u20e3 Visual Summary","text":"<pre><code>Incoming Message\n       \u2502\n    Choice Router\n \u250c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510\nWhen type A   When type B\n   \u2502             \u2502\nScatter-Gather   Flow Ref\n\u250c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2510\nFlow1 Flow2 Flow3\n   \u2502      \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nAggregated Response\n</code></pre>"},{"location":"Mulesoft/Routing/#key-takeaways","title":"\u2705 Key Takeaways","text":"<ul> <li>Choice Router \u2192 Conditional routing (if-else logic)</li> <li>Scatter-Gather \u2192 Parallel execution + aggregation</li> <li>Round-Robin \u2192 In-app load balancing</li> <li>Flow-Ref \u2192 Modular orchestration and reusability</li> <li>Combine Routers \u2192 Build complex, fault-tolerant message orchestration</li> <li>Monitor performance \u2192 Tune concurrency, memory, and error handling</li> </ul>"},{"location":"Mulesoft/SQLPagination/","title":"SQL Pagination in MuleSoft Using Database Connector &amp; DataWeave","text":""},{"location":"Mulesoft/SQLPagination/#objective","title":"\ud83c\udfaf Objective","text":"<p>When querying large datasets from a SQL database, pagination prevents:</p> <ul> <li>High memory usage</li> <li>Timeouts or oversized payloads</li> <li>Network bottlenecks</li> </ul> <p>This guide explains how to design a MuleSoft flow that retrieves records in pages (batches) using LIMIT / OFFSET with the Database Connector and DataWeave.</p>"},{"location":"Mulesoft/SQLPagination/#prerequisites","title":"\u2699\ufe0f Prerequisites","text":"<ul> <li>Anypoint Studio 7.12+</li> <li>Mule Runtime 4.x</li> <li>Database Connector configured</li> <li>A database table with many records (e.g., <code>Customer</code>, <code>Account</code>)</li> </ul>"},{"location":"Mulesoft/SQLPagination/#pagination-strategy-overview","title":"\ud83e\udde9 Pagination Strategy Overview","text":"<p>SQL pagination pattern:</p> <pre><code>SELECT * FROM customer\nORDER BY id\nLIMIT #[vars.pageSize] OFFSET #[vars.offset];\n````\n\n| Variable   | Meaning                                                      |\n| ---------- | ------------------------------------------------------------ |\n| `pageSize` | Number of records per page                                   |\n| `offset`   | Number of rows to skip (e.g., `(pageNumber - 1) * pageSize`) |\n\nYou keep looping until fewer than `pageSize` records are returned.\n\n---\n\n## \ud83c\udfd7\ufe0f Example Flow Design\n\n**Flow Name:** `get-customers-paginated`\n**Purpose:** Retrieve all customers from DB in chunks (100 per call) and aggregate into a single result list.\n\n---\n\n### \ud83d\udd39 Step 1: Initialize Variables\n\n```xml\n&lt;flow name=\"get-customers-paginated\"&gt;\n    &lt;set-variable variableName=\"pageSize\" value=\"100\" doc:name=\"Set Page Size\"/&gt;\n    &lt;set-variable variableName=\"offset\" value=\"0\" doc:name=\"Set Offset\"/&gt;\n    &lt;set-variable variableName=\"hasMore\" value=\"true\" doc:name=\"Has More Flag\"/&gt;\n    &lt;set-variable variableName=\"allResults\" value=\"#[]\" doc:name=\"Init Result Array\"/&gt;\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#step-2-loop-until-no-more-records","title":"\ud83d\udd39 Step 2: Loop Until No More Records","text":"<pre><code>&lt;while expression=\"#[vars.hasMore]\" doc:name=\"While - Paginate\"&gt;\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#database-select-paginated-query","title":"\u2705 Database Select (paginated query)","text":"<pre><code>&lt;db:select doc:name=\"Select Paged Customers\" config-ref=\"DB_Config\"&gt;\n    &lt;db:sql&gt;\n        &lt;![CDATA[\n        SELECT * FROM customer\n        ORDER BY id\n        LIMIT :pageSize OFFSET :offset\n        ]]&gt;\n    &lt;/db:sql&gt;\n    &lt;db:input-parameters&gt;\n        &lt;db:input-parameter key=\"pageSize\" value=\"#[vars.pageSize]\"/&gt;\n        &lt;db:input-parameter key=\"offset\" value=\"#[vars.offset]\"/&gt;\n    &lt;/db:input-parameters&gt;\n&lt;/db:select&gt;\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#check-if-more-records-exist","title":"\u2705 Check if more records exist","text":"<pre><code>&lt;choice doc:name=\"Check Result Size\"&gt;\n    &lt;when expression=\"#[sizeOf(payload) &lt; vars.pageSize]\"&gt;\n        &lt;set-variable variableName=\"hasMore\" value=\"false\" doc:name=\"Set hasMore False\"/&gt;\n    &lt;/when&gt;\n    &lt;otherwise&gt;\n        &lt;set-variable variableName=\"offset\" value=\"#[vars.offset + vars.pageSize]\" doc:name=\"Increase Offset\"/&gt;\n    &lt;/otherwise&gt;\n&lt;/choice&gt;\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#accumulate-results","title":"\u2705 Accumulate results","text":"<pre><code>&lt;set-variable variableName=\"allResults\" value=\"#[vars.allResults ++ payload]\" doc:name=\"Append to Results\"/&gt;\n&lt;/while&gt;\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#step-3-transform-final-output-optional","title":"\ud83d\udd39 Step 3: Transform Final Output (Optional)","text":"<pre><code>&lt;ee:transform doc:name=\"Transform Final Output\"&gt;\n    &lt;ee:message&gt;\n        &lt;ee:set-payload&gt;&lt;![CDATA[\n            %dw 2.0\n            output application/json\n            ---\n            {\n                totalRecords: sizeOf(vars.allResults),\n                data: vars.allResults\n            }\n        ]]&gt;&lt;/ee:set-payload&gt;\n    &lt;/ee:message&gt;\n&lt;/ee:transform&gt;\n&lt;/flow&gt;\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#how-it-works","title":"\ud83e\udde0 How It Works","text":"<ul> <li>Variables control pagination</li> <li>While loop repeats until the last page</li> <li>Each iteration:   \u2705 Queries database with LIMIT / OFFSET   \u2705 Checks if results are smaller than <code>pageSize</code>   \u2705 Appends results to array   \u2705 Increases offset for next loop</li> <li>Final output returns combined dataset</li> </ul>"},{"location":"Mulesoft/SQLPagination/#example-output","title":"\ud83e\uddea Example Output","text":"<pre><code>{\n  \"totalRecords\": 245,\n  \"data\": [\n    { \"id\": 1, \"name\": \"Alice\" },\n    { \"id\": 2, \"name\": \"Bob\" }\n  ]\n}\n</code></pre>"},{"location":"Mulesoft/SQLPagination/#best-practices","title":"\ud83d\udee1\ufe0f Best Practices","text":"Area Recommendation Performance Use <code>ORDER BY</code> on indexed columns Memory For huge datasets, process records per page instead of storing all Error Handling Wrap DB call in a Try scope Config Externalize <code>pageSize</code> in <code>config.properties</code> Large scale Use Batch Jobs for very large datasets"},{"location":"Mulesoft/SQLPagination/#optional-using-batch-job-alternative-approach","title":"\ud83e\uddf0 Optional: Using Batch Job (Alternative Approach)","text":"<p>If you intend to process the records (e.g., write to Salesforce), use Batch:</p> <pre><code>&lt;batch:job name=\"customer-batch-job\"&gt;\n  &lt;batch:input&gt;\n    &lt;db:select config-ref=\"DB_Config\" fetchSize=\"500\"&gt;\n      &lt;db:sql&gt;SELECT * FROM customer&lt;/db:sql&gt;\n    &lt;/db:select&gt;\n  &lt;/batch:input&gt;\n  ...\n&lt;/batch:job&gt;\n</code></pre> <p>Batch automatically handles pagination via <code>fetchSize</code>.</p>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/","title":"\u2699\ufe0f MuleSoft Message &amp; State Management Options \u2013 VM Queue vs JMS vs Object Store","text":""},{"location":"Mulesoft/VMQueueObjectStoreComparison/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>MuleSoft provides several options for asynchronous message handling and state persistence, each suited to specific integration needs:</p> Mechanism Description VM Queue In-memory or persistent queue for asynchronous communication within a single Mule application JMS Queue Enterprise-grade message broker queue for cross-application or cross-system communication Object Store Key\u2013value storage for state persistence, caching, or deduplication <p>These mechanisms differ in scope, durability, and use cases. The sections below outline their characteristics, usage patterns, and best practices.</p>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#2-comparison-table","title":"2\ufe0f\u20e3 Comparison Table","text":"Feature VM Queue JMS Queue (e.g., ActiveMQ) Object Store Scope Single Mule app/runtime Cross-app / cross-system Single app or shared via Cloud Object Store v2 Persistence Optional (<code>persistent=\"true\"</code>) Yes (handled by broker) Optional (local or OSv2 persistent) Asynchronous Messaging \u2705 \u2705 \u274c Message Ordering \u2705 FIFO per queue \u2705 FIFO / priority via broker N/A Concurrency Control <code>numberOfConsumers</code> Broker manages consumers N/A Throughput High (in-memory) High (depends on broker) High for reads/writes (not async) Durability on Restart Only if persistent Yes, broker-persisted Only if persistent Use Case Intra-app async message passing Cross-app integration State, deduplication, caching Setup Complexity Simple (built-in) Requires broker + config Simple (built-in) Error Handling Manual via Mule flow Broker dead-letter queues supported Manual clear/remove logic Dependencies None (built-in) Requires external broker None (built-in)"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#3-when-to-use-each","title":"3\ufe0f\u20e3 When to Use Each","text":"Scenario Recommended Option Reason Internal asynchronous processing \ud83d\udfe9 VM Queue Lightweight and decouples flows within same app Cross-application or system async messaging \ud83d\udfe8 JMS Queue Reliable enterprise-grade broker for distributed systems Deduplication / last-run state / tokens \ud83d\udfe6 Object Store Key\u2013value persistence with TTL control High-volume enterprise messaging \ud83d\udfe8 JMS Queue Handles throughput and delivery guarantees Temporary caching or transient state \ud83d\udfe6 Object Store Lightweight and low-latency Guaranteed message order within app \ud83d\udfe9 VM Queue FIFO queueing ensures ordered processing"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#4-decision-flow-quick-reference","title":"4\ufe0f\u20e3 Decision Flow \u2013 Quick Reference","text":"<pre><code>Do you need asynchronous message passing?\n \u251c\u2500 Yes\n \u2502   \u251c\u2500 Within the same Mule app? \u2192 \ud83d\udfe9 Use VM Queue\n \u2502   \u2514\u2500 Across apps/systems? \u2192 \ud83d\udfe8 Use JMS Queue\n \u2514\u2500 No\n     \u2514\u2500 Use \ud83d\udfe6 Object Store for state, caching, or deduplication\n</code></pre>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#5-example-integration-patterns","title":"5\ufe0f\u20e3 Example Integration Patterns","text":""},{"location":"Mulesoft/VMQueueObjectStoreComparison/#vm-queue-intra-app-async-processing","title":"\ud83d\udfe9 VM Queue \u2013 Intra-App Async Processing","text":"<pre><code>&lt;vm:publish queueName=\"AsyncQueue\"/&gt;\n&lt;vm:listener queueName=\"AsyncQueue\" numberOfConsumers=\"3\"/&gt;\n</code></pre> <p>\ud83d\udca1 Use case: Fast, decoupled flows within one app (e.g., API to batch processor).</p>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#jms-queue-cross-app-reliable-messaging","title":"\ud83d\udfe8 JMS Queue \u2013 Cross-App Reliable Messaging","text":"<pre><code>&lt;jms:publish destination=\"OrderQueue\" connectionFactory-ref=\"ActiveMQ_CF\"/&gt;\n&lt;jms:listener destination=\"OrderQueue\" connectionFactory-ref=\"ActiveMQ_CF\"/&gt;\n</code></pre> <p>\ud83d\udca1 Use case: Distributed message delivery between apps or systems with guaranteed reliability.</p>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#object-store-state-deduplication-caching","title":"\ud83d\udfe6 Object Store \u2013 State / Deduplication / Caching","text":"<pre><code>&lt;os:store key=\"lastProcessedId\" objectStore=\"ProcessingStore\" persistent=\"true\"/&gt;\n&lt;os:contains key=\"lastProcessedId\" objectStore=\"ProcessingStore\"/&gt;\n</code></pre> <p>\ud83d\udca1 Use case: Track last processed record, token caching, or deduplication.</p>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#6-use-case-summary","title":"6\ufe0f\u20e3 Use Case Summary","text":"Use Case Recommended Option Notes Async flow decoupling (same app) VM Queue Tune <code>numberOfConsumers</code> for parallelism High-volume API buffering VM Queue (persistent) Prevent producer blocking Cross-application message delivery JMS Queue Supports multiple durable consumers Deduplication of inbound messages Object Store Store message IDs with TTL Last-run timestamp for scheduler Object Store Persistent, lightweight Token caching for APIs Object Store Fast retrieval, easy refresh Temporary caching Object Store Simple, no external dependency"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#7-best-practices","title":"7\ufe0f\u20e3 Best Practices","text":""},{"location":"Mulesoft/VMQueueObjectStoreComparison/#vm-queue","title":"\ud83d\udfe9 VM Queue","text":"<ul> <li>Use only for internal (intra-app) async flows</li> <li>Enable persistence for critical messages</li> <li>Monitor queue depth to prevent memory exhaustion</li> </ul>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#jms-queue","title":"\ud83d\udfe8 JMS Queue","text":"<ul> <li>Ideal for enterprise-level async communication</li> <li>Configure broker persistence and dead-letter queues</li> <li>Use durable subscriptions for guaranteed delivery</li> </ul>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#object-store","title":"\ud83d\udfe6 Object Store","text":"<ul> <li>Use for caching, deduplication, or state tracking \u2014 not message passing</li> <li>Define TTL and persistence based on data lifecycle</li> <li>For multi-app sharing, use Cloud Object Store v2</li> </ul>"},{"location":"Mulesoft/VMQueueObjectStoreComparison/#summary-table","title":"\u2705 Summary Table","text":"Tool Best For Key Strength \ud83d\udfe9 VM Queue Async internal messaging Lightweight, easy to use, decouples flows \ud83d\udfe8 JMS Queue Enterprise async messaging Reliability, durability, cross-app communication \ud83d\udfe6 Object Store State management &amp; caching Fast key\u2013value persistence, simple to configure"},{"location":"Mulesoft/VMQueues/","title":"\ud83e\udde9 MuleSoft VM Queues \u2013 Complete Guide","text":""},{"location":"Mulesoft/VMQueues/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>The VM (Virtual Machine) Queue in MuleSoft is a lightweight, in-memory message queue used for inter-flow communication within the same Mule application or runtime.</p> <p>It enables asynchronous message processing, load leveling, and decoupling between producer and consumer flows.</p> <p>Common benefits:</p> <ul> <li>\u2705 Asynchronous processing</li> <li>\u2696\ufe0f Load leveling between flows</li> <li>\ud83d\udd17 Decoupling high-throughput producers from slower consumers</li> <li>\ud83d\udd01 Ordered message delivery within the same Mule runtime</li> </ul>"},{"location":"Mulesoft/VMQueues/#2-what-is-a-vm-queue","title":"2\ufe0f\u20e3 What is a VM Queue?","text":""},{"location":"Mulesoft/VMQueues/#definition","title":"\ud83e\udde9 Definition","text":"<p>A VM Queue is a named in-memory queue that holds messages for internal Mule app consumption only.</p> <p>Messages are:</p> <ul> <li>Published using <code>vm:publish</code> or <code>vm:queue</code></li> <li>Consumed using <code>vm:listener</code> (asynchronous) or <code>vm:consume</code> (synchronous)</li> </ul> <p>\ud83d\udca1 Persistent queues can optionally be enabled to survive Mule runtime restarts.</p>"},{"location":"Mulesoft/VMQueues/#3-vm-queue-vs-object-store-vs-jms","title":"3\ufe0f\u20e3 VM Queue vs Object Store vs JMS","text":"Feature VM Queue Object Store JMS (e.g., ActiveMQ) Scope Intra-application Key\u2013value storage Inter-application/system Persistence Optional (persistent queues) Optional Always persistent Asynchronous \u2705 Yes \u274c No \u2705 Yes Use Case Flow decoupling State tracking / caching Cross-app messaging Overhead Low (in-memory) Low Higher (external broker) Retry / Durability Only with persistent VM N/A Built-in"},{"location":"Mulesoft/VMQueues/#4-vm-queue-operations","title":"4\ufe0f\u20e3 VM Queue Operations","text":"Operation Purpose <code>vm:publish</code> / <code>vm:queue</code> Push a message into a VM queue <code>vm:listener</code> Consume messages asynchronously <code>vm:consume</code> Poll a queue synchronously <code>queueName</code> Name of the queue (shared across flows) <code>numberOfConsumers</code> Controls parallel consumption <code>persistent</code> Enables disk persistence across restarts"},{"location":"Mulesoft/VMQueues/#5-when-to-use-vm-queues","title":"5\ufe0f\u20e3 When to Use VM Queues","text":"<p>\u2705 Recommended Scenarios:</p> <ul> <li>Asynchronous processing (e.g., API receives request \u2192 queued \u2192 backend processes later)</li> <li>Load leveling to handle traffic spikes</li> <li>Decoupling logic between flows</li> <li>Maintaining message order within a single flow</li> <li>Retrying failed processes without blocking the main thread</li> </ul>"},{"location":"Mulesoft/VMQueues/#6-common-use-cases","title":"6\ufe0f\u20e3 Common Use Cases","text":"Use Case Example Async processing User uploads CSV \u2192 VM Queue \u2192 Batch Flow processes asynchronously Load leveling High-volume API requests \u2192 queued \u2192 processed by limited consumers Flow decoupling API layer publishes \u2192 Process layer consumes Retry mechanism Failed transaction \u2192 Retry Flow via VM Queue Internal event bus Flows within one app communicate via VM queues"},{"location":"Mulesoft/VMQueues/#7-configuring-vm-queues","title":"7\ufe0f\u20e3 Configuring VM Queues","text":""},{"location":"Mulesoft/VMQueues/#step-1-define-a-queue","title":"\ud83e\udde9 Step 1 \u2014 Define a Queue","text":"<pre><code>&lt;vm:config name=\"VM_Config\" doc:name=\"VM Config\"&gt;\n    &lt;vm:queue name=\"AsyncQueue\" persistent=\"true\" maxOutstandingMessages=\"1000\"/&gt;\n&lt;/vm:config&gt;\n</code></pre>"},{"location":"Mulesoft/VMQueues/#step-2-publish-messages","title":"\ud83e\udde9 Step 2 \u2014 Publish Messages","text":"<pre><code>&lt;flow name=\"ProducerFlow\"&gt;\n    &lt;http:listener config-ref=\"HTTP_Listener_Config\" path=\"/submit\"/&gt;\n    &lt;vm:publish queueName=\"AsyncQueue\" doc:name=\"Publish to VM Queue\"&gt;\n        &lt;vm:payload&gt;&lt;![CDATA[#[payload]]]&gt;&lt;/vm:payload&gt;\n    &lt;/vm:publish&gt;\n    &lt;logger message=\"Message queued\" level=\"INFO\"/&gt;\n&lt;/flow&gt;\n</code></pre>"},{"location":"Mulesoft/VMQueues/#step-3-consume-messages","title":"\ud83e\udde9 Step 3 \u2014 Consume Messages","text":"<pre><code>&lt;flow name=\"ConsumerFlow\"&gt;\n    &lt;vm:listener queueName=\"AsyncQueue\" numberOfConsumers=\"2\" doc:name=\"Consume from VM Queue\"/&gt;\n    &lt;logger message=\"Processing message: #[payload]\" level=\"INFO\"/&gt;\n    &lt;!-- Add processing logic --&gt;\n&lt;/flow&gt;\n</code></pre> <p>\u2705 Notes:</p> <ul> <li><code>numberOfConsumers</code> controls concurrency.</li> <li>If <code>persistent=\"true\"</code>, messages persist through restarts.</li> <li>VM Queues are intra-application only \u2014 use JMS/AMQP for cross-app communication.</li> </ul>"},{"location":"Mulesoft/VMQueues/#8-example-async-csv-processing","title":"8\ufe0f\u20e3 Example: Async CSV Processing","text":""},{"location":"Mulesoft/VMQueues/#producer-flow","title":"Producer Flow","text":"<pre><code>&lt;flow name=\"CSVProducer\"&gt;\n    &lt;file:listener path=\"/inbound\" /&gt;\n    &lt;foreach collection=\"#[payload.rows]\"&gt;\n        &lt;vm:publish queueName=\"VMQueueCSV\" /&gt;\n    &lt;/foreach&gt;\n&lt;/flow&gt;\n</code></pre>"},{"location":"Mulesoft/VMQueues/#consumer-flow","title":"Consumer Flow","text":"<pre><code>&lt;flow name=\"CSVConsumer\"&gt;\n    &lt;vm:listener queueName=\"VMQueueCSV\" numberOfConsumers=\"5\" /&gt;\n    &lt;logger message=\"Processing row #[payload]\" /&gt;\n    &lt;db:insert ... /&gt; &lt;!-- Insert into database or Salesforce --&gt;\n&lt;/flow&gt;\n</code></pre> <p>\ud83c\udfaf Benefit: API responds instantly while heavy logic runs asynchronously.</p>"},{"location":"Mulesoft/VMQueues/#9-vm-queue-properties","title":"9\ufe0f\u20e3 VM Queue Properties","text":"Property Description Default / Example <code>queueName</code> Name of the queue <code>\"AsyncQueue\"</code> <code>persistent</code> Store messages on disk <code>false</code> <code>numberOfConsumers</code> Number of parallel consumers <code>1</code> <code>maxOutstandingMessages</code> Max messages before throttling <code>1000</code> <code>timeout</code> Wait time for <code>vm:consume</code> <code>0</code> (infinite)"},{"location":"Mulesoft/VMQueues/#best-practices","title":"\ud83d\udd1f Best Practices","text":"<p>\u2705 Clearly name queues shared by multiple flows. \u2705 Use persistent queues for critical data. \u2705 Tune numberOfConsumers to balance performance. \u2705 Avoid VM Queues for cross-application messaging \u2014 use JMS instead. \u2705 Implement dead-letter handling for failed messages. \u2705 Monitor queue size to prevent memory overload.</p>"},{"location":"Mulesoft/VMQueues/#11-advantages-and-limitations","title":"11\ufe0f\u20e3 Advantages and Limitations","text":"Aspect Advantage Limitation Speed Fast, in-memory Slower if persistent Persistence Optional durability Not distributed Scope Decouples internal flows Single app/runtime only Complexity Simple to use Limited monitoring Throughput High Memory-bound with large volumes"},{"location":"Mulesoft/VMQueues/#12-troubleshooting-tips","title":"12\ufe0f\u20e3 Troubleshooting Tips","text":"Symptom Possible Cause Solution Messages not consumed Queue name mismatch Verify producer &amp; consumer queue names High memory usage Too many in-memory messages Use persistence or throttle Messages lost on restart <code>persistent=\"false\"</code> Enable persistence Slow processing Single consumer Increase <code>numberOfConsumers</code> Flow blocked Busy consumer Make flow async or add threads"},{"location":"Mulesoft/VMQueues/#13-summary","title":"13\ufe0f\u20e3 Summary","text":"Concept Key Takeaway Purpose Lightweight intra-app message queue Core Operations <code>vm:publish</code>, <code>vm:listener</code>, <code>vm:consume</code> Persistence Optional durability with <code>persistent=\"true\"</code> Concurrency Controlled via <code>numberOfConsumers</code> Limitations Single-app only, memory bound"},{"location":"Mulesoft/VMQueues/#14-diagram-vm-queue-flow","title":"14\ufe0f\u20e3 Diagram: VM Queue Flow","text":"<pre><code> \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n \u2502 Producer    \u2502\n \u2502 Flow/API    \u2502\n \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 vm:publish\n       \u25bc\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n \u2502  VM Queue   \u2502\n \u2502 AsyncQueue  \u2502\n \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502 vm:listener\n       \u25bc\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n \u2502 Consumer    \u2502\n \u2502 Flow/Logic  \u2502\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/","title":"Salesforce &amp; On-Premise Integration using MuleSoft VPS &amp; VPN","text":""},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#1-overview","title":"1. Overview","text":"<p>This document outlines the high-level design for integrating Salesforce with on-premise systems using MuleSoft\u2019s Virtual Private Space (VPS) and VPN.</p> <ul> <li>VPN provides a secure, encrypted tunnel between MuleSoft and the on-premise network  </li> <li>VPS provides an isolated, secure deployment environment  </li> <li>APIs inside VPS communicate with Salesforce and on-prem systems such as:</li> <li>OpenHousing</li> <li>IntelliPrint</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#2-architecture-overview","title":"2. Architecture Overview","text":"Component Description MuleSoft Virtual Private Space (VPS) Dedicated, isolated network to deploy secure Mule APIs VPN Connection Secure tunnel between VPS and on-prem systems Salesforce Integration Mule APIs interact with Salesforce using connectors On-Premise Systems Example systems: OpenHousing, IntelliPrint"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#3-setting-up-the-private-space","title":"3. Setting Up the Private Space","text":""},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#create-private-space","title":"\u2705 Create Private Space","text":"<ol> <li>Navigate to Anypoint Platform \u2192 Runtime Manager \u2192 Private Spaces</li> <li>Click Create Private Space</li> </ol>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#configure-networking","title":"\u2705 Configure Networking","text":"<p>In the Firewall Rules tab:</p> <ul> <li>Ingress Rules \u2013 allow inbound traffic from trusted networks</li> <li>Egress Rules \u2013 allow outbound traffic only to required systems</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#create-private-network-configure-cidr-block","title":"\u2705 Create Private Network &amp; Configure CIDR Block","text":"<ul> <li> <p>Region: Select deployment region (Note: Some accounts enforce a default region that cannot be changed)</p> </li> <li> <p>CIDR Block: Defines the IP range of the Private Space</p> </li> </ul> <p>CIDR guidance: - MuleSoft recommends /22 \u2192 1,024 IPs - Allowed range: /24 (256 IPs) \u2192 /16 (65,536 IPs) - Example: <code>192.168.0.0/16</code></p> <p>Choosing the correct CIDR prevents IP conflicts with the customer\u2019s on-prem networks.</p>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#4-establish-secure-vpn-connectivity","title":"4. Establish Secure VPN Connectivity","text":""},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#create-vpn-connection","title":"\u2705 Create VPN Connection","text":"<ol> <li>In the Private Space, go to Network \u2192 Create Connection</li> <li>Select VPN</li> <li>Enter a Connection Name</li> <li>Enter the Remote IP Address</li> <li>This is the customer\u2019s public IP of their VPN gateway</li> <li>Could be a firewall, router, or VPN appliance</li> </ol>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#choose-routing-type","title":"\u2705 Choose Routing Type","text":""},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#a-dynamic-bgp","title":"A) Dynamic (BGP)","text":"<ul> <li>Requires ASN configuration</li> <li>MuleSoft automatically assigns 169.254.x.x link-local addresses for BGP sessions</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#b-static-routing","title":"B) Static Routing","text":"<p>If using static routing, define:</p> <ol> <li>On-Premise Network CIDR</li> <li> <p>e.g. <code>172.16.0.0/16</code></p> </li> <li> <p>MuleSoft VPC CIDR</p> </li> <li>e.g. <code>10.1.0.0/22</code></li> </ol> <p>Example Static Route:</p> Destination Required By <code>172.16.0.0/16</code> Configure in MuleSoft VPN <code>10.1.0.0/22</code> Configure on on-prem VPN side"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#local-point-to-point-ip","title":"\u2705 Local Point-to-Point IP","text":"Routing Type Is 169.254.x.x needed? Why Static \u274c Not required Routes defined manually BGP \u2705 Required Used for dynamic route advertisements <p>If static routing is used but 169.254.x.x appears, it\u2019s a MuleSoft default \u2014 it will not affect routing.</p>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#configure-on-prem-vpn-gateway","title":"\u2705 Configure On-Prem VPN Gateway","text":"<ul> <li>Download the VPN configuration guide from Anypoint Platform</li> <li>Apply the settings to the on-prem device</li> <li>Ensure correct encryption, hashing, tunnel lifetimes, and routing</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#configure-firewall-rules","title":"\u2705 Configure Firewall Rules","text":"<ul> <li>Allow traffic between MuleSoft VPS and on-prem network</li> <li>Make sure necessary ports/protocols (IPSec) are permitted</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#5-deploying-apis-in-the-private-space","title":"5. Deploying APIs in the Private Space","text":""},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#deployment-steps","title":"\u2705 Deployment Steps","text":"<ol> <li>In Runtime Manager, deploy your Mule application</li> <li>Select the Private Space as the deployment target</li> <li>Configure runtime, workers, and environment variables</li> </ol>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#internal-communication","title":"\u2705 Internal Communication","text":"<ul> <li>APIs inside VPS can communicate using internal DNS</li> <li>Traffic stays entirely within the secure environment</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#load-balancing-scaling","title":"\u2705 Load Balancing &amp; Scaling","text":"<ul> <li>Enable load balancing to distribute traffic</li> <li>Enable auto-scaling to adjust instances based on demand</li> </ul>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#6-security-access-controls","title":"6. Security &amp; Access Controls","text":"Control Layer Purpose Firewall Rules Restrict inbound access to trusted IPs Egress Controls Limit outbound traffic to approved services Anypoint Security Policies Apply policies such as:  - Client ID Enforcement  - IP Whitelisting  - Rate Limiting  - TLS/HTTPS enforcement"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#7-summary","title":"7. Summary","text":"<p>Using VPS + VPN provides:</p> <p>\u2705 Isolated secure API hosting \u2705 Encrypted connection to on-prem systems \u2705 No public exposure of APIs \u2705 Internal DNS + private networking \u2705 Scalable and enterprise-grade architecture  </p>"},{"location":"Mulesoft/VirtualPrivateSpaceVPN/#8-additional-reference","title":"8. Additional Reference","text":"<p>For more information about creating and configuring Virtual Private Spaces: MuleSoft Anypoint Platform \u2192 Private Spaces Documentation</p>"},{"location":"Mulesoft/cachingObjStore/","title":"MuleSoft Storage Options Guide: Object Store vs Cache vs Database","text":""},{"location":"Mulesoft/cachingObjStore/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>MuleSoft provides several ways to store or cache data. Choosing the right option depends on data lifetime, volume, persistence, sharing, and performance.</p> <p>The main options:</p> <ul> <li>Object Store \u2013 key-value persistence for small/medium state data</li> <li>Caching Module \u2013 temporary in-memory cache for request/response payloads</li> <li>Database Storage \u2013 long-term, transactional storage</li> </ul>"},{"location":"Mulesoft/cachingObjStore/#2-comparison-table","title":"2\ufe0f\u20e3 Comparison Table","text":"Capability Object Store Caching Module Database Storage Purpose Key-value persistence Temporary cache Long-term transactional Data Model Key-Value (simple map) Key-Value (in-memory) Relational / NoSQL Persistence Optional (persistent=true / OSv2) No (in-memory) Yes (disk-based / external) Scope App-specific (can be shared) Within one app/worker Enterprise-wide Performance Very fast Fast (memory) Slower (DB/network) Scalability Good per Mule app Limited (memory bound) Excellent (DB scaling) Survives Restart \u2705 If persistent \u274c Lost on restart \u2705 Always CloudHub Use Cloud Object Store v2 Works per worker External DB required Data Size Limit Small/Medium (MBs) Small Large (GBs/TBs) Access Mule connectors (os:) Caching scope (cache:) Mule DB Connector (db:) Concurrency Control Basic (no transactions) None Full ACID support Backup &amp; Recovery Basic / Cloud-managed None Provided by DB engine Security Local / platform-managed Memory only DB-level control Typical TTL Configurable (entryTtl) Short (cache) Permanent or DB-managed Cost / Overhead Lightweight Very lightweight Heavier (external dep.)"},{"location":"Mulesoft/cachingObjStore/#3-when-to-use-each","title":"3\ufe0f\u20e3 When to Use Each","text":"Scenario Recommended Option Reason Track last run timestamp \ud83d\udfe9 Object Store (Persistent) Lightweight, survives redeploy Cache API responses \ud83d\udfe8 Caching Module High-speed memory cache, short TTL Store API tokens/session data \ud83d\udfe9 Object Store (Persistent/OSv2) Fast, survives restarts Deduplicate incoming events \ud83d\udfe9 Object Store Store message IDs for a retention period Long-term storage / reporting \ud83d\udfe5 Database Storage Handles large volumes, permanent Transactional updates / audit \ud83d\udfe5 Database Storage Data integrity Temporary enrichment data \ud83d\udfe8 Caching Module Ultra-fast, non-persistent Cross-application coordination \ud83d\udfe9 Cloud Object Store (OSv2 Shared) Accessible by multiple Mule apps"},{"location":"Mulesoft/cachingObjStore/#4-example-usage-by-layer-api-led-architecture","title":"4\ufe0f\u20e3 Example Usage by Layer (API-Led Architecture)","text":"API Layer Common Use Recommended Storage System API Persist token for external system Object Store (persistent) Process API Deduplication / state checkpoint Object Store (persistent) Experience API Cache UI data / Salesforce lookup Caching Module (in-memory) Data Layer/ETL Store transformed data, logs Database (SQL / NoSQL)"},{"location":"Mulesoft/cachingObjStore/#5-quick-decision-matrix","title":"5\ufe0f\u20e3 Quick Decision Matrix","text":"Question If Yes \u2192 Use Do you need data to survive redeployments? \ud83d\udfe9 Object Store (persistent) Need ultra-fast, temporary storage? \ud83d\udfe8 Caching Module Need relational queries or reports? \ud83d\udfe5 Database Share state across multiple Mule apps? \ud83d\udfe9 Cloud Object Store (OSv2) Need transaction rollback or joins? \ud83d\udfe5 Database Only local caching for a flow / connector call? \ud83d\udfe8 Caching Module"},{"location":"Mulesoft/cachingObjStore/#6-example-patterns","title":"6\ufe0f\u20e3 Example Patterns","text":""},{"location":"Mulesoft/cachingObjStore/#object-store-token-cache","title":"\ud83d\udfe9 Object Store \u2013 Token Cache","text":"<pre><code>&lt;flow name=\"GetAuthTokenFlow\"&gt;\n    &lt;os:retrieve key=\"apiToken\" objectStore=\"AuthStore\"&gt;\n        &lt;os:default-value&gt;&lt;![CDATA[#['']]]&gt;&lt;/os:default-value&gt;\n    &lt;/os:retrieve&gt;\n\n    &lt;choice&gt;\n        &lt;when expression=\"#[isEmpty(payload)]\"&gt;\n            &lt;logger message=\"Token not found \u2014 generating new one\" /&gt;\n            &lt;set-variable variableName=\"newToken\" value=\"#[dw::HTTP.request(...).body.token]\" /&gt;\n            &lt;os:store key=\"apiToken\" objectStore=\"AuthStore\"&gt;\n                &lt;os:value&gt;&lt;![CDATA[#[vars.newToken]]]&gt;&lt;/os:value&gt;\n            &lt;/os:store&gt;\n        &lt;/when&gt;\n        &lt;otherwise&gt;\n            &lt;logger message=\"Token found in Object Store\" /&gt;\n        &lt;/otherwise&gt;\n    &lt;/choice&gt;\n&lt;/flow&gt;\n````\n\n### \ud83d\udfe8 Caching Module \u2013 Repeated API Call\n\n```xml\n&lt;flow name=\"GetCustomerDataFlow\"&gt;\n    &lt;cache:scope&gt;\n        &lt;http:request method=\"GET\" url=\"https://api.example.com/customers\" /&gt;\n    &lt;/cache:scope&gt;\n&lt;/flow&gt;\n</code></pre> <ul> <li>Result: Cached API response reused within TTL window.</li> </ul>"},{"location":"Mulesoft/cachingObjStore/#database-persistent-storage","title":"\ud83d\udfe5 Database \u2013 Persistent Storage","text":"<pre><code>&lt;flow name=\"LogRequestFlow\"&gt;\n    &lt;db:insert&gt;\n        &lt;db:sql&gt;&lt;![CDATA[\n            INSERT INTO request_logs (id, timestamp, status)\n            VALUES (:id, :timestamp, :status)\n        ]]&gt;&lt;/db:sql&gt;\n    &lt;/db:insert&gt;\n&lt;/flow&gt;\n</code></pre> <ul> <li>Result: Data stored permanently for audits or analytics.</li> </ul>"},{"location":"Mulesoft/cachingObjStore/#7-summary-choosing-the-right-tool","title":"7\ufe0f\u20e3 Summary: Choosing the Right Tool","text":"Need Use This Why Persist lightweight key-value pairs Object Store Simple, built-in, reliable Cache results for quick reuse Caching Module High-speed, transient Store &amp; query structured data Database Full persistence and querying Maintain scheduler states / tokens Object Store (Persistent) Retains across restarts Share cache/state across apps Cloud Object Store v2 Managed and scalable"},{"location":"Mulesoft/cachingObjStore/#key-takeaways","title":"\u2705 Key Takeaways","text":"<ul> <li>\ud83d\udfe9 Object Store \u2192 Best for small, persistent, key-value state or metadata.</li> <li>\ud83d\udfe8 Caching Module \u2192 Best for temporary, fast, memory-level caching.</li> <li>\ud83d\udfe5 Database \u2192 Best for structured, durable, transactional data.</li> <li>CloudHub Object Store v2 \u2192 Persistent by default; survives redeploys without configuration.</li> <li>Always design around data volume, lifetime, and access pattern when choosing storage.</li> </ul>"},{"location":"Mulesoft/dataMasking/","title":"Data Masking &amp; Conditional Logging in MuleSoft (DataWeave 2.0)","text":""},{"location":"Mulesoft/dataMasking/#overview","title":"\ud83d\udcd8 Overview","text":"<p>This document explains how to implement data masking in MuleSoft using DataWeave 2.0, and how to control logging using a global property (<code>enableLogging</code>). Sensitive fields are automatically masked with <code>*****</code> before being logged or sent to external systems.</p>"},{"location":"Mulesoft/dataMasking/#1-prerequisites","title":"\ud83e\udde9 1. Prerequisites","text":"<ul> <li>Mule Runtime 4.x</li> <li>DataWeave 2.0</li> <li>Global configuration property defined in <code>config.properties</code></li> </ul> <p>Example:</p> <pre><code># config.properties\nenableLogging=true\n````\n\n---\n\n## \ud83e\udde0 2. DataWeave Script Example\n\n```dw\n%dw 2.0\noutput application/json\nimport * from dw::util::Values\n\nvar enableLogging = p('enableLogging') default false\n\nfun maskData(data) =\n    data\n        mask \"Asset_Type_VC\" with \"*****\"\n        mask \"Other_Asset_Reference_VC\" with \"*****\"\n        mask \"Number_of_Bedrooms_SI\" with \"*****\"\n\n---\nif (enableLogging) \n    maskData(payload)\nelse \n    \"Logging disabled: Sensitive data not shown\"\n</code></pre>"},{"location":"Mulesoft/dataMasking/#3-explanation","title":"\ud83e\uddf1 3. Explanation","text":"Component Description <code>mask</code> DataWeave operator used to mask fields in the payload <code>\"*****\"</code> Replacement masking value <code>enableLogging</code> Boolean global property used to turn logging on/off <code>p('enableLogging')</code> Reads property from Mule config/environment <code>maskData(payload)</code> Function that masks defined sensitive fields"},{"location":"Mulesoft/dataMasking/#4-global-property-configuration","title":"\u2699\ufe0f 4. Global Property Configuration","text":"<p>You can define <code>enableLogging</code> from:</p> <ul> <li><code>config.properties</code></li> <li>Environment variable</li> <li>Runtime Manager \u2192 Application properties</li> </ul> <p>Example (Runtime Manager override):</p> <pre><code>-DenableLogging=false\n</code></pre>"},{"location":"Mulesoft/dataMasking/#5-example-input","title":"\ud83e\uddfe 5. Example Input","text":"<pre><code>{\n  \"Asset_Type_VC\": \"Flat\",\n  \"Other_Asset_Reference_VC\": \"A12345\",\n  \"Number_of_Bedrooms_SI\": \"2\",\n  \"Postcode\": \"SW1A 1AA\"\n}\n</code></pre>"},{"location":"Mulesoft/dataMasking/#6-example-output-logging-enabled","title":"\u2705 6. Example Output (Logging Enabled)","text":"<pre><code>{\n  \"Asset_Type_VC\": \"*****\",\n  \"Other_Asset_Reference_VC\": \"*****\",\n  \"Number_of_Bedrooms_SI\": \"*****\",\n  \"Postcode\": \"SW1A 1AA\"\n}\n</code></pre>"},{"location":"Mulesoft/dataMasking/#7-example-output-logging-disabled","title":"\ud83d\udeab 7. Example Output (Logging Disabled)","text":"<pre><code>\"Logging disabled: Sensitive data not shown\"\n</code></pre>"},{"location":"Mulesoft/dataMasking/#8-integration-with-logger-component","title":"\ud83e\udde9 8. Integration with Logger Component","text":"<p>Add the DataWeave transformation before the logger to ensure masking takes place:</p> <pre><code>&lt;set-payload value=\"#[dw('classpath:dw/maskData.dwl')]\" doc:name=\"Mask Sensitive Fields\"/&gt;\n&lt;logger level=\"INFO\" message=\"#[payload]\" doc:name=\"Log Masked Payload\"/&gt;\n</code></pre>"},{"location":"Mulesoft/dataMasking/#9-best-practices","title":"\ud83d\udd0d 9. Best Practices","text":"<p>\u2705 Always mask PII and sensitive data before logging \u2705 Use <code>enableLogging=false</code> in Production \u2705 Use <code>enableLogging=true</code> only in Development/Testing \u2705 Store masking logic in a reusable DWL file (e.g., <code>/src/main/resources/dw/maskData.dwl</code>)</p>"},{"location":"Mulesoft/designCenter/","title":"MuleSoft Design Center: Reusable Data Library &amp; API Spec Guide","text":""},{"location":"Mulesoft/designCenter/#1-mulesoft-project-structure-in-design-center","title":"1. MuleSoft Project Structure in Design Center","text":"Project Type Example Name Purpose API Specification Customer API Defines endpoints/resources/methods Library (Fragment) Common Data Types Library Defines reusable types, examples, traits, resourceTypes, etc."},{"location":"Mulesoft/designCenter/#2-create-a-data-type-library-in-design-center","title":"2. Create a Data Type Library in Design Center","text":""},{"location":"Mulesoft/designCenter/#step-21-create-the-library","title":"Step 2.1 \u2014 Create the Library","text":"<ul> <li>Design Center \u2192 Create \u2192 New Fragment \u2192 Library  </li> <li>Name: <code>common-data-library</code> </li> <li>RAML 1.0 format</li> </ul>"},{"location":"Mulesoft/designCenter/#step-22-folder-structure","title":"Step 2.2 \u2014 Folder Structure","text":"<pre><code>\n/types\nCustomerType.raml\nAddressType.raml\n/examples\nCustomerExample.json\nAddressExample.json\nlibrary.raml\n\n````\n\n### Step 2.3 \u2014 Define Reusable Data Types\n\n**CustomerType.raml**\n```raml\n#%RAML 1.0 DataType\ntype: object\nproperties:\n  id: string\n  name: string\n  email: string\n  address:\n    type: Address\n````\n\n**AddressType.raml**\n\n```raml\n#%RAML 1.0 DataType\ntype: object\nproperties:\n  street: string\n  city: string\n  postalCode: string\n</code></pre>"},{"location":"Mulesoft/designCenter/#step-24-create-example-payloads","title":"Step 2.4 \u2014 Create Example Payloads","text":"<p>CustomerExample.json</p> <pre><code>{\n  \"id\": \"12345\",\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"address\": {\n    \"street\": \"123 High Street\",\n    \"city\": \"London\",\n    \"postalCode\": \"E1 6AN\"\n  }\n}\n</code></pre>"},{"location":"Mulesoft/designCenter/#step-25-link-types-examples-in-root-library","title":"Step 2.5 \u2014 Link Types &amp; Examples in Root Library","text":"<p>library.raml</p> <pre><code>#%RAML 1.0 Library\nusage: Common reusable data types and examples\n\ntypes:\n  Address: !include types/AddressType.raml\n  Customer: !include types/CustomerType.raml\n\nexamples:\n  customerExample: !include examples/CustomerExample.json\n</code></pre>"},{"location":"Mulesoft/designCenter/#step-26-publish-the-library","title":"Step 2.6 \u2014 Publish the Library","text":"<ul> <li>Click Publish to Exchange \u2192 give version (e.g., 1.0.0) \u2192 Publish</li> <li>Available for import into any API project</li> </ul>"},{"location":"Mulesoft/designCenter/#3-create-your-main-api-specification","title":"3. Create Your Main API Specification","text":""},{"location":"Mulesoft/designCenter/#step-31-create-api-spec","title":"Step 3.1 \u2014 Create API Spec","text":"<ul> <li>Design Center \u2192 Create \u2192 New API Specification \u2192 <code>Customer API</code> \u2192 RAML 1.0</li> </ul>"},{"location":"Mulesoft/designCenter/#step-32-folder-structure","title":"Step 3.2 \u2014 Folder Structure","text":"<pre><code>/api\n  customer.raml\n/examples\n  postCustomerExample.json\napi.raml\n</code></pre>"},{"location":"Mulesoft/designCenter/#step-33-import-data-library","title":"Step 3.3 \u2014 Import Data Library","text":"<p>api.raml</p> <pre><code>#%RAML 1.0\ntitle: Customer API\nversion: v1\nbaseUri: https://api.example.com/{version}\nmediaType: application/json\n\nuses:\n  common: exchange_modules/&lt;org-id&gt;/common-data-library/1.0.0/library.raml\n\n/customer:\n  get:\n    description: Get customer details\n    responses:\n      200:\n        body:\n          application/json:\n            type: common.Customer[]\n            example: common.customerExample\n  post:\n    body:\n      application/json:\n        type: common.Customer\n        example: !include examples/postCustomerExample.json\n    responses:\n      201:\n        body:\n          application/json:\n            type: common.Customer\n</code></pre> <p>Note: <code>exchange_modules/&lt;org-id&gt;/common-data-library/1.0.0/library.raml</code> is auto-inserted when you Add dependency \u2192 Library \u2192 Select from Exchange.</p>"},{"location":"Mulesoft/designCenter/#4-using-reusable-traits-or-resource-types-optional","title":"4. Using Reusable Traits or Resource Types (Optional)","text":"<p>traits/pagination.raml</p> <pre><code>#%RAML 1.0 Trait\nqueryParameters:\n  page:\n    type: integer\n    description: Page number\n  pageSize:\n    type: integer\n    description: Number of results per page\n</code></pre> <p>Usage in API</p> <pre><code>uses:\n  common: exchange_modules/&lt;org-id&gt;/common-data-library/1.0.0/library.raml\n\n/customer:\n  get:\n    is: [ common.pagination ]\n</code></pre>"},{"location":"Mulesoft/designCenter/#5-folder-best-practices","title":"5. Folder Best Practices","text":"Folder Purpose /types DataType definitions (for reuse) /examples Example JSON payloads /traits Common reusable query/header patterns /resourceTypes Shared structures for similar resources /schemas JSON Schema definitions /securitySchemes OAuth2, Client ID, Basic Auth"},{"location":"Mulesoft/designCenter/#6-publish-to-exchange","title":"6. Publish to Exchange","text":"<ul> <li>Click Publish \u2192 Publish to Exchange</li> <li>Provide version &amp; visibility (private/public)</li> <li>API and library become discoverable</li> </ul>"},{"location":"Mulesoft/designCenter/#7-manage-the-api-in-api-manager","title":"7. Manage the API in API Manager","text":""},{"location":"Mulesoft/designCenter/#step-71-create-api-instance","title":"Step 7.1 \u2014 Create API Instance","text":"<ul> <li>API Manager \u2192 Manage API \u2192 Create new API \u2192 Select from Exchange</li> <li>Choose API version, environment (Sandbox/Dev/Prod)</li> <li>Define Autodiscovery ID for Mule app</li> </ul>"},{"location":"Mulesoft/designCenter/#step-72-apply-policies","title":"Step 7.2 \u2014 Apply Policies","text":"<ul> <li>Client ID Enforcement</li> <li>Rate Limiting / SLA Tiers</li> <li>CORS</li> <li>OAuth 2.0 Access Token Enforcement</li> <li>Logging</li> </ul> <p>Note: Autodiscovery allows API Gateway to enforce policies without code changes</p>"},{"location":"Mulesoft/designCenter/#8-implement-the-api-in-anypoint-studio","title":"8. Implement the API in Anypoint Studio","text":"<ol> <li>Open Studio \u2192 File \u2192 New \u2192 Mule Project</li> <li>Import from Exchange \u2192 select API</li> <li>Scaffold flows from RAML \u2192 APIkit router generated</li> </ol> <p>Example Generated Flow</p> <pre><code>&lt;flow name=\"get:/customer:api-config\"&gt;\n  &lt;logger message=\"Fetching customers...\" level=\"INFO\" /&gt;\n  &lt;set-payload value='#[{ id: \"1\", name: \"John Doe\" }]' /&gt;\n&lt;/flow&gt;\n</code></pre> <p>Add Autodiscovery in <code>mule-artifact.json</code></p> <pre><code>{\n  \"apiId\": \"1234567\",\n  \"groupId\": \"org-id\",\n  \"artifactId\": \"customer-api\",\n  \"version\": \"1.0.0\"\n}\n</code></pre>"},{"location":"Mulesoft/designCenter/#9-governance-versioning-tips","title":"9. Governance &amp; Versioning Tips","text":"Practice Why Use central library for common types &amp; traits Keeps specs consistent &amp; maintainable Version library &amp; API specs semantically Safe evolution (1.0.0 \u2192 1.1.0 \u2192 2.0.0) Don\u2019t copy/paste examples Reduce duplication, import from library Publish first \u2192 link via <code>uses:</code> Manages dependencies Use API Manager policies Separation of concerns, avoid custom code"},{"location":"Mulesoft/designCenter/#10-visual-reuse-flow","title":"10. Visual Reuse Flow","text":"<pre><code>+--------------------------+\n| Common Data Library      |\n|  - Types (Customer)      |\n|  - Examples (JSON)       |\n|  - Traits (pagination)   |\n+-----------+--------------+\n            |\n            | uses:\n            v\n+--------------------------+\n| Customer API             |\n|  - api.raml              |\n|  - resources/            |\n|  - examples/             |\n+-----------+--------------+\n            |\n            | Published to Exchange\n            v\n+--------------------------+\n| API Manager / Gateway    |\n|  - Apply Policies        |\n|  - Analytics &amp; SLA       |\n+--------------------------+\n</code></pre>"},{"location":"Mulesoft/designCenter/#summary-checklist","title":"\u2705 Summary Checklist","text":"Step Action Done 1 Create common data library (fragment) \u2610 2 Add types, examples, traits \u2610 3 Publish library to Exchange \u2610 4 Create main API spec \u2610 5 Import library (<code>uses:</code>) \u2610 6 Define resources and link examples \u2610 7 Publish API spec to Exchange \u2610 8 Manage in API Manager &amp; apply policies \u2610 9 Import API into Studio &amp; implement \u2610 10 Add autodiscovery and deploy \u2610"},{"location":"Mulesoft/envVariables/","title":"MuleSoft Environment Variables Guide","text":""},{"location":"Mulesoft/envVariables/#1-overview","title":"1\ufe0f\u20e3 Overview","text":"<p>Environment Variables in MuleSoft are externalized configuration parameters that allow developers to write environment-agnostic Mule applications.</p> <p>Instead of hardcoding URLs, credentials, or other environment-specific values, you define them as variables supplied at runtime depending on the deployment environment (Dev, Test, UAT, Prod).</p> <p>Benefits include:</p> <ul> <li>Secure configuration management</li> <li>Seamless CI/CD pipeline automation</li> <li>Promoting the same Mule application artifact across environments</li> </ul>"},{"location":"Mulesoft/envVariables/#2-why-use-environment-variables","title":"2\ufe0f\u20e3 Why Use Environment Variables?","text":"Benefit Description Environment Isolation Different environments can have different endpoints, credentials, or Object Store names without changing code Security Sensitive values (passwords, tokens) aren\u2019t stored in version control Portability Single deployable JAR can run in any environment Automation Pipelines (Azure DevOps, Jenkins) can inject values dynamically Consistency Prevents configuration drift between environments"},{"location":"Mulesoft/envVariables/#3-common-use-cases","title":"3\ufe0f\u20e3 Common Use Cases","text":"Example Variable Example Value API endpoint api.host https://api.dev.company.com Database connection db.user, db.password db_user, db_pass123! Salesforce credentials sf.username, sf.password, sf.token Salesforce integration credentials Azure Key Vault endpoint azure.keyvault.url https://my-keyvault.vault.azure.net/ Logging level log.level INFO / DEBUG"},{"location":"Mulesoft/envVariables/#4-how-mulesoft-reads-environment-variables","title":"4\ufe0f\u20e3 How MuleSoft Reads Environment Variables","text":""},{"location":"Mulesoft/envVariables/#option-a-configproperties-secureproperties","title":"Option A \u2014 Config.properties + Secure.properties","text":"<pre><code># src/main/resources/config.properties\napi.host=${env.API_HOST}\napi.key=${env.API_KEY}\ndb.user=${env.DB_USER}\n````\n\n`${env.API_HOST}` reads the environment variable `API_HOST`.\n\n### Option B \u2014 Runtime Manager (CloudHub)\n\n* Runtime Manager \u2192 Application \u2192 Settings \u2192 Properties tab\n\n```text\nAPI_HOST=https://api.dev.company.com\nDB_USER=devuser\nDB_PASSWORD=secret\n</code></pre> <ul> <li>Mule resolves <code>${env.VARIABLE_NAME}</code> automatically.</li> </ul>"},{"location":"Mulesoft/envVariables/#option-c-on-prem-mule-mule-wrapper","title":"Option C \u2014 On-Prem Mule / Mule Wrapper","text":"<ul> <li>Define in <code>wrapper.conf</code>:</li> </ul> <pre><code>wrapper.java.additional.10=-DAPI_HOST=https://api.dev.company.com\nwrapper.java.additional.11=-DDB_USER=devuser\n</code></pre> <ul> <li>Use in Mule as <code>${API_HOST}</code></li> </ul>"},{"location":"Mulesoft/envVariables/#5-environment-variables-vs-secure-properties","title":"5\ufe0f\u20e3 Environment Variables vs Secure Properties","text":"Aspect Environment Variables Secure Properties (File Encryption) Purpose Runtime configuration Protect sensitive info at rest Storage System environment or deployment config Encrypted <code>.properties</code> files Best for CI/CD pipelines, environment differences Secrets (passwords, tokens) Used with <code>${env.VAR_NAME}</code> <code>${secure::keyName}</code> <p>Tip: Combine them \u2014 e.g., Azure pipeline sets decryption key as environment variable for Mule runtime.</p>"},{"location":"Mulesoft/envVariables/#6-example-usage-in-mule-flow","title":"6\ufe0f\u20e3 Example: Usage in Mule Flow","text":"<pre><code>&lt;http:listener-config name=\"HTTP_Listener_config\"\n    host=\"${api.host}\"\n    port=\"${api.port}\" /&gt;\n\n&lt;db:config name=\"DB_Config\"&gt;\n    &lt;db:connection&gt;\n        &lt;db:generic-connection\n            url=\"${db.url}\"\n            user=\"${db.user}\"\n            password=\"${db.password}\" /&gt;\n    &lt;/db:connection&gt;\n&lt;/db:config&gt;\n</code></pre> <ul> <li>Placeholders automatically resolved at runtime.</li> </ul>"},{"location":"Mulesoft/envVariables/#7-how-they-fit-into-azure-pipeline","title":"7\ufe0f\u20e3 How They Fit Into Azure Pipeline","text":""},{"location":"Mulesoft/envVariables/#yaml-example","title":"YAML Example","text":"<pre><code>trigger:\n  branches:\n    include:\n      - main\n\nvariables:\n  - group: MuleSoft-Dev   # Variable group with environment values\n\nstages:\n  - stage: DeployToDev\n    displayName: \"Deploy to Dev\"\n    jobs:\n      - job: Deploy\n        pool:\n          vmImage: ubuntu-latest\n        steps:\n          - task: Maven@3\n            inputs:\n              goals: 'clean package'\n          - task: Bash@3\n            displayName: \"Deploy to CloudHub\"\n            inputs:\n              targetType: inline\n              script: |\n                echo \"Deploying Mule app...\"\n                mvn deploy -Dmule.env=dev \\\n                  -Danypoint.username=$(anypointUsername) \\\n                  -Danypoint.password=$(anypointPassword) \\\n                  -DAPI_HOST=$(apiHost) \\\n                  -DDB_USER=$(dbUser) \\\n                  -DDB_PASSWORD=$(dbPassword)\n</code></pre> <p>Explanation:</p> <ul> <li>Variable Group (<code>MuleSoft-Dev</code>) defines environment-specific values.</li> <li>Variables injected as system properties (<code>-DAPI_HOST</code>) \u2192 Mule resolves as <code>${API_HOST}</code>.</li> </ul>"},{"location":"Mulesoft/envVariables/#8-azure-variable-groups-example","title":"8\ufe0f\u20e3 Azure Variable Groups Example","text":"Variable Group Key Value Secret MuleSoft-Dev apiHost https://api.dev.company.com \u274c MuleSoft-Dev dbUser dev_db_user \u274c MuleSoft-Dev dbPassword ** \u2705 <p>Each environment (Dev, UAT, Prod) can have its own variable group.</p>"},{"location":"Mulesoft/envVariables/#9-best-practices","title":"9\ufe0f\u20e3 Best Practices","text":"<p>\u2705 DO</p> <ul> <li>Use environment variables for all environment-specific config</li> <li>Keep secrets in Azure Key Vault or secure variables</li> <li>Name variables consistently (<code>API_HOST</code>, <code>DB_USER</code>, <code>DB_PASSWORD</code>)</li> <li>Reference variables in <code>config.properties</code> to avoid XML clutter</li> <li>Maintain a <code>.env.sample</code> for local dev reference</li> </ul> <p>\ud83d\udeab DON\u2019T</p> <ul> <li>Hardcode values in Mule XML or properties files</li> <li>Commit secrets/tokens to version control</li> <li>Use separate code branches for environment-specific configs \u2014 rely on variables instead</li> </ul>"},{"location":"Mulesoft/envVariables/#10-summary-diagram","title":"10\ufe0f\u20e3 Summary Diagram","text":"<pre><code>                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502   Azure Pipeline YAML   \u2502\n                \u2502------------------------\u2502\n                \u2502 Variable Group: Dev     \u2502\n                \u2502   API_HOST=...          \u2502\n                \u2502   DB_USER=...           \u2502\n                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502  Maven Build &amp; Deploy Task \u2502\n              \u2502  -DAPI_HOST=$(API_HOST)    \u2502\n              \u2502  -DDB_USER=$(DB_USER)      \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n             \u2502   Mule Runtime / CloudHub  \u2502\n             \u2502  Uses ${API_HOST}, ${DB_USER} \u2502\n             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"Mulesoft/envVariables/#summary-table","title":"\u2705 Summary Table","text":"Concept Purpose Where Defined Mule Usage Environment Variable Externalized config OS / Pipeline / Runtime <code>${env.VAR_NAME}</code> System Property Runtime argument <code>-DVAR=value</code> <code>${VAR}</code> Secure Property Encrypted config file <code>.properties</code> + key <code>${secure::key}</code> Azure Variable Group Central pipeline config Azure DevOps Library Injected into build"},{"location":"Mulesoft/projectSetup/","title":"Salesforce \u2194 MuleSoft Bidirectional Integration Guide","text":""},{"location":"Mulesoft/projectSetup/#0-quick-prerequisites","title":"0) Quick Prerequisites","text":"<ul> <li>Anypoint Platform account with access to:</li> <li>Design Center</li> <li>Exchange</li> <li>API Manager</li> <li>Target Environment</li> <li>Anypoint Studio (matching Mule runtime, e.g., Mule 4.x)</li> <li>Salesforce org (dev/sandbox) for Connected App</li> <li>Credentials/keys for external REST endpoint (and any required authentication)</li> </ul>"},{"location":"Mulesoft/projectSetup/#1-design-the-api-raml-in-design-center","title":"1) Design the API (RAML) in Design Center","text":"<ol> <li>Create API Spec: </li> <li>Log in \u2192 Design Center \u2192 Create \u2192 New API Specification  </li> <li> <p>Choose RAML 1.0, give name/version, create project  </p> </li> <li> <p>Define API: </p> </li> <li>Add Data Types, Resources, Methods, query/path params, examples, responses  </li> <li>Add <code>securitySchemes</code> for OAuth2, client-credentials, JWT if needed  </li> <li> <p>Use visual or RAML editor; create reusable fragments (types, traits)  </p> </li> <li> <p>Example Responses: </p> </li> <li> <p>Add at least one example response per method for mocking &amp; scaffolding  </p> </li> <li> <p>Enable Mocking Service (optional): </p> </li> <li>Public or private mock endpoints for early consumer testing  </li> </ol> <p>Minimal RAML Example:</p> <pre><code>#%RAML 1.0\ntitle: Integration API\nversion: v1\nbaseUri: https://api.example.com/{version}\nmediaType: application/json\n\nsecuritySchemes:\n  oauth_2_0:\n    type: OAuth 2.0\n    describedBy:\n      headers:\n        Authorization:\n          description: \"Bearer access token\"\n          type: string\n      responses:\n        401:\n          description: Unauthorized\n    settings:\n      accessTokenUri: https://auth.example.com/oauth/token\n      authorizationGrants: [ client_credentials ]\n\ntypes:\n  Case:\n    type: object\n    properties:\n      Id: string\n      Subject: string\n      Status: string\n\n/cases:\n  get:\n    securedBy: [ oauth_2_0 ]\n    description: Retrieve cases\n    responses:\n      200:\n        body:\n          application/json:\n            type: Case[]\n  post:\n    securedBy: [ oauth_2_0 ]\n    body:\n      application/json:\n        type: Case\n    responses:\n      201:\n        body:\n          application/json:\n            type: Case\n````\n\n---\n\n## 2) Publish RAML to Anypoint Exchange\n\n* Open API Designer \u2192 **Publish \u2192 Publish to Exchange**\n* Choose semantic version, description, visibility\n* Enables discoverability and use in Studio / API Manager\n* Test the API spec &amp; mock service in Exchange\n\n---\n\n## 3) Import RAML into Anypoint Studio and Scaffold Flows\n\n**Options:**\n\n### A \u2014 Import from Exchange (recommended)\n\n1. File \u2192 New \u2192 Mule Project \u2192 Import a published API \u2192 From Exchange\n2. Select API/version \u2192 finish\n3. Studio imports RAML into `src/main/resources/api` and generates scaffold\n\n### B \u2014 Import Local RAML\n\n1. Save RAML locally (`src/main/resources/api/api.raml`)\n2. File \u2192 New \u2192 Mule Project \u2192 right-click RAML \u2192 **Generate Flows from Local REST API** (APIkit)\n\n**Notes about scaffolding:**\n\n* APIkit generates one flow per resource/method + API Router\n* Use generated flows as skeleton: add HTTP listener, connectors, transformations\n* Re-generate when spec changes (Studio prompts)\n\n---\n\n## 4) Implement Bidirectional Integration (High-Level)\n\n### A. Salesforce \u2192 Mule \u2192 External REST\n\n1. **Event trigger:**\n\n   * Platform Events (recommended), Change Data Capture, Outbound Messages, or scheduled jobs\n   * Choose based on volume &amp; consistency\n\n2. **Mule Flow:**\n\n   ```\n   HTTP Listener / Salesforce Connector inbound \u2192 Transform Message (DataWeave) \u2192 HTTP Request / REST Connector\n   ```\n\n3. **Retries &amp; Idempotency:**\n\n   * Use `until-successful` / queue (Anypoint MQ / persistent VM)\n   * Avoid duplicate processing with idempotency key\n   * Connector reconnection: apply strategy where supported (HTTP Request requires explicit retries)\n\n### B. External REST \u2192 Mule \u2192 Salesforce\n\n* Expose endpoints via RAML / API \u2192 secure with API Manager policies\n* Flow: receive request \u2192 validate &amp; transform \u2192 Salesforce Connector to create/update or publish Platform Events\n* Protect/throttle with Client ID, rate limiting, JWT, etc.\n\n---\n\n## 5) Configure Salesforce Auth &amp; Connector\n\n* Create **Connected App** in Salesforce\n\n  * OAuth 2.0 JWT Bearer recommended for server-to-server\n  * Upload public cert, configure scopes &amp; pre-approval\n\n* Anypoint Studio:\n\n  * Add Salesforce Connector \u2192 configure global connector (JWT or other OAuth/credentials)\n  * Store consumer key / keystore / alias in **Secure Configuration Properties**\n\n**Important:** never hardcode credentials\n\n---\n\n## 6) Data Mapping Example (DataWeave)\n\n```dw\n%dw 2.0\noutput application/json\n---\n{\n  caseId: payload.Id,\n  subject: payload.Subject,\n  status: payload.Status,\n  submittedAt: payload.CreatedDate as String\n}\n</code></pre>"},{"location":"Mulesoft/projectSetup/#7-error-handling-retries-testing","title":"7) Error Handling, Retries, Testing","text":"<ul> <li>Error Handling: use <code>error-handler</code>, <code>on-error-continue</code>, <code>on-error-propagate</code></li> <li> <p>Retries: until-successful or queue-driven for idempotent ops</p> </li> <li> <p>Connector reconnection strategies for DB/JMS; HTTP Request needs explicit retries</p> </li> <li>Automated Tests: MUnit for flows; MUnit Test Recorder for complex flows</li> </ul>"},{"location":"Mulesoft/projectSetup/#8-governance-security-policies","title":"8) Governance, Security &amp; Policies","text":"<ul> <li>Publish API \u2192 create API instance in API Manager \u2192 attach runtime (Autodiscovery)</li> <li>Apply policies: Client ID enforcement, OAuth token, rate limiting, JWT validation</li> <li>Policies are runtime-enforced, no code change</li> </ul>"},{"location":"Mulesoft/projectSetup/#9-deployment-cicd-observability","title":"9) Deployment &amp; CI/CD / Observability","text":"<ul> <li>Deploy to CloudHub, Runtime Fabric, or on-prem Mule runtime</li> <li>Use Maven / Anypoint CLI / Jenkins / GitHub Actions for CI/CD</li> <li>Enable Anypoint Monitoring &amp; alerts; integrate logs with aggregation tools</li> <li>API versioning: semantic versioning, Exchange versions for consumers</li> </ul>"},{"location":"Mulesoft/projectSetup/#10-quick-checklists","title":"10) Quick Checklists","text":"<ul> <li>[ ] RAML defines types, examples, security schemes</li> <li>[ ] Publish spec to Exchange; enable mock service</li> <li>[ ] Import API to Studio / generate flows via APIkit</li> <li>[ ] Configure Salesforce Connector (JWT for server-to-server); secure secrets</li> <li>[ ] Apply API Manager policies; enable Autodiscovery</li> <li>[ ] Add MUnit tests &amp; mocks; create CI/CD pipeline</li> </ul>"},{"location":"Mulesoft/projectSetup/#useful-references","title":"Useful References","text":"<ul> <li>Publish API Spec from Design Center \u2192 Exchange</li> <li>Import / Generate flows from RAML in Anypoint Studio (APIkit)</li> <li>Mocking Service (Design Center)</li> <li>Secure Configuration Properties</li> <li>Salesforce Connector &amp; JWT Flow</li> <li>API Manager &amp; Policies</li> </ul>"},{"location":"Salesforce/Formstack/","title":"Formstack Documents \u2013 Quick Start Guide (Salesforce)","text":""},{"location":"Salesforce/Formstack/#1-pre-installation-steps","title":"1. Pre-Installation Steps","text":"<ol> <li> <p>Enable Digital Experiences</p> </li> <li> <p>Setup \u2192 Digital Experiences \u2192 Check Enable Digital Experiences</p> </li> <li> <p>Enable CRM Content</p> </li> <li> <p>Setup \u2192 Salesforce CRM Content \u2192 Check Enable Salesforce CRM Content</p> </li> <li>Check all 4 additional checkboxes after enabling</li> </ol> <p>\u26a0\ufe0f For Incommunities projects, only Step 2 may be required.</p>"},{"location":"Salesforce/Formstack/#2-installation","title":"2. Installation","text":"<ol> <li> <p>Choose your environment:</p> </li> <li> <p>Production: Install Formstack Documents</p> </li> <li> <p>Sandbox: Install Formstack Documents</p> </li> <li> <p>Complete the installation wizard.</p> </li> <li> <p>Enter your API Key and API Secret after installation.</p> </li> </ol>"},{"location":"Salesforce/Formstack/#3-setup-a-template","title":"3. Setup a Template","text":"<ol> <li>App Launcher \u2192 Formstack Documents \u2192 Open the Formstack Documents tab</li> <li>Click New Document</li> <li>Enter a Template Name</li> <li>Click Upload File \u2192 select your template</li> </ol>"},{"location":"Salesforce/Formstack/#4-configure-template-settings","title":"4. Configure Template Settings","text":"<ol> <li>Go to the Settings tab \u2192 populate relevant settings for your template</li> <li> <p>Go to Deliver tab \u2192 Create a Delivery</p> </li> <li> <p>Select Salesforce as the destination</p> </li> <li>Log in with Salesforce credentials</li> <li>Fill in Record Id \u2192 select where the document should be saved (Attachments or Files)</li> </ol>"},{"location":"Salesforce/Formstack/#5-map-template-fields","title":"5. Map Template Fields","text":"<ol> <li>Go to Formstack Mapping tab \u2192 Click New Mapping</li> <li>Select the uploaded template</li> <li>Map the required fields to Salesforce object fields</li> </ol>"},{"location":"Salesforce/Formstack/#6-troubleshooting-common-issues","title":"6. Troubleshooting / Common Issues","text":""},{"location":"Salesforce/Formstack/#61-reason-for-referral-field","title":"6.1 Reason for Referral Field","text":"<ul> <li>Issue: Merge field renders as <code>a;b;c;d;e</code></li> <li> <p>Solution (Bulleted List):</p> </li> <li> <p>Create Case.Formstack_Reason_For_Referral field</p> </li> <li> <p>Update IntelliPrint \u2013 Outbound flow:</p> <ul> <li>Assign <code>Case.Formstack_Reason_For_Referral</code> to a local variable</li> <li>Create a formula field:</li> </ul> <p><code>text  SUBSTITUTE(\"&lt;ul style=list-style-type:disc&gt;&lt;li&gt;\" &amp; {!changeRFRFormat} &amp; \"&lt;/ul&gt;\", \";\", \"&lt;li&gt;\")</code>   4. Update <code>Case.Formstack_Reason_For_Referral</code> with formula</p> </li> </ul>"},{"location":"Salesforce/Formstack/#7-assign-permissions","title":"7. Assign Permissions","text":"<p>Ensure all users who generate Formstack documents have a Permission Set including:</p> <ul> <li>Formstack Mappings</li> <li>Formstack Documents</li> <li>Formstack Mapping Filter</li> <li>Formstack Mapping Criteria</li> <li>Field Mappings</li> </ul>"},{"location":"Salesforce/Formstack/#8-notes","title":"8. Notes","text":"<ul> <li>Always verify CRM Content is enabled before installation.</li> <li>After installation, make sure API credentials are valid.</li> <li>Test document generation on a sandbox before deploying to production.</li> </ul> <p>This Quick Start Guide condenses the full instructions into actionable steps, suitable for admins to follow in order without referring to the full documentation.</p>"},{"location":"Salesforce/JSON-to-SObject/","title":"JSON-to-SObject Upsert Parser \u2013 Documentation","text":""},{"location":"Salesforce/JSON-to-SObject/#purpose","title":"\u2705 Purpose","text":"<p>This Apex class processes JSON payloads sent from Salesforce Flow. It converts JSON data into SObjects, maps fields, and performs an upsert operation using a matching external reference field.</p> <p>This is useful for integrations where a Flow receives JSON from an external system (e.g., MuleSoft, API callout, middleware) and needs to automatically update Salesforce records.</p>"},{"location":"Salesforce/JSON-to-SObject/#class-overview","title":"\u2705 Class Overview","text":"<pre><code>public class &lt;ClassName&gt; { ... }\n</code></pre> Feature Description Accepts JSON input from Flow \u2705 Deserializes JSON into typed Apex objects \u2705 Maps data into SObject fields \u2705 Performs upsert \u2705 Returns a status message to Flow \u2705"},{"location":"Salesforce/JSON-to-SObject/#inner-classes","title":"\u2705 Inner Classes","text":""},{"location":"Salesforce/JSON-to-SObject/#1-flowinput","title":"1. FlowInput","text":"<p>Represents the incoming request from Flow.</p> <pre><code>public class FlowInput {\n    @InvocableVariable(required=true)\n    public String payload; \n}\n</code></pre> Field Type Description <code>payload</code> String JSON string containing a list of records"},{"location":"Salesforce/JSON-to-SObject/#2-datapayload","title":"2. DataPayload","text":"<p>Represents a single record from the JSON input. Fields should mirror JSON keys and map to Salesforce fields.</p> <pre><code>public class DataPayload {\n    public String external_ref;\n    public String date_value;\n    public String description;\n    public String amount;\n    public String last_updated;\n    public String address;\n    public String status;\n    public String total;\n    public String reference_code;\n}\n</code></pre> <p>Note: Field names may be adjusted to match the expected JSON structure.</p>"},{"location":"Salesforce/JSON-to-SObject/#invocable-method","title":"\u2705 Invocable Method","text":""},{"location":"Salesforce/JSON-to-SObject/#updatedatalistflowinput-requests","title":"<code>updateData(List&lt;FlowInput&gt; requests)</code>","text":"<pre><code>@InvocableMethod(label='Update Records from JSON')\npublic static List&lt;String&gt; updateData(List&lt;FlowInput&gt; requests)\n</code></pre> Parameter Description <code>requests</code> List of Flow inputs containing JSON payloads Returns Description List Contains a success or error message returned to Flow"},{"location":"Salesforce/JSON-to-SObject/#processing-logic","title":"\u2705 Processing Logic","text":"Step Description 1 Validate incoming Flow request 2 Deserialize JSON into a list of <code>DataPayload</code> objects 3 Convert each payload into a Salesforce SObject instance 4 Parse date and number strings where required 5 Perform upsert using a reference field 6 Return a result message to Flow"},{"location":"Salesforce/JSON-to-SObject/#field-mapping-logic-example","title":"\u2705 Field Mapping Logic (example)","text":"JSON Field Salesforce Field Processing <code>external_ref</code> <code>External_Ref__c</code> Used for upsert <code>date_value</code> <code>Date_Value__c</code> Parsed into a <code>Date</code> <code>amount</code> <code>Amount__c</code> Parsed into a <code>Decimal</code> <code>description</code> <code>Description__c</code> Direct mapping <code>status</code> <code>Status__c</code> Direct mapping <p>Mapping can be expanded or modified based on business needs.</p>"},{"location":"Salesforce/JSON-to-SObject/#error-handling","title":"\u2705 Error Handling","text":"Condition Result No input received Returns <code>No Payload Received</code> Invalid JSON Returns <code>Invalid JSON payload: &lt;error&gt;</code> JSON contains no records Returns <code>No Payload Data Found</code> Upsert operation fails Returns <code>Error: &lt;exception&gt;</code> <p>All errors are returned to Flow for transparency and debugging.</p>"},{"location":"Salesforce/JSON-to-SObject/#example-json-input","title":"\u2705 Example JSON Input","text":"<pre><code>[\n  {\n    \"external_ref\": \"ABC123\",\n    \"date_value\": \"01/07/2024\",\n    \"description\": \"Sample update\",\n    \"amount\": \"\u00a3100.00\",\n    \"last_updated\": \"30/06/2024\",\n    \"status\": \"Active\"\n  }\n]\n</code></pre>"},{"location":"Salesforce/JSON-to-SObject/#generic-sobject-json-upsert-parser","title":"\u2705 Generic SObject JSON Upsert Parser","text":""},{"location":"Salesforce/JSON-to-SObject/#apex-class","title":"Apex Class","text":"<pre><code>public class GenericJSONUpsertParser {\n\n    public class FlowInput {\n        @InvocableVariable(required=true)\n        public String payload; // JSON string\n        @InvocableVariable(required=true)\n        public String objectApiName; // Example: 'Account', 'Custom_Object__c'\n        @InvocableVariable(required=true)\n        public String externalIdField; // Example: 'External_Id__c'\n    }\n\n    @InvocableMethod(label='Upsert SObjects from JSON')\n    public static List&lt;String&gt; upsertRecords(List&lt;FlowInput&gt; requests) {\n        if (requests == null || requests.isEmpty())\n            return new List&lt;String&gt;{'No input provided'};\n\n        FlowInput input = requests[0];\n        if (String.isBlank(input.payload))\n            return new List&lt;String&gt;{'No JSON payload provided'};\n\n        try {\n            // Convert JSON to list of generic Maps\n            List&lt;Object&gt; rawList = (List&lt;Object&gt;) JSON.deserializeUntyped(input.payload);\n\n            List&lt;SObject&gt; recordsToUpsert = new List&lt;SObject&gt;();\n\n            // Build SObject type dynamically\n            SObjectType sObjType = Schema.getGlobalDescribe().get(input.objectApiName);\n            if (sObjType == null)\n                return new List&lt;String&gt;{'Invalid object API name: ' + input.objectApiName};\n\n            for (Object item : rawList) {\n                Map&lt;String, Object&gt; fieldMap = (Map&lt;String, Object&gt;) item;\n\n                SObject sObj = sObjType.newSObject();\n\n                // Assign fields dynamically\n                for (String fieldName : fieldMap.keySet()) {\n                    Object value = fieldMap.get(fieldName);\n                    if (value != null) {\n                        try {\n                            sObj.put(fieldName, value);\n                        } catch (Exception e) {\n                            return new List&lt;String&gt;{\n                                'Field assignment error on ' + fieldName + ': ' + e.getMessage()\n                            };\n                        }\n                    }\n                }\n\n                recordsToUpsert.add(sObj);\n            }\n\n            // Perform upsert using provided external ID field\n            Database.UpsertResult[] results = Database.upsert(recordsToUpsert, input.externalIdField, false);\n\n            return new List&lt;String&gt;{'Processed ' + results.size() + ' record(s)'};\n\n        } catch (Exception e) {\n            return new List&lt;String&gt;{'JSON processing error: ' + e.getMessage()};\n        }\n    }\n}\n</code></pre>"},{"location":"Salesforce/JSON-to-SObject/#what-this-class-does","title":"\u2705 What This Class Does","text":"Feature Supported Works with any standard or custom object \u2705 Uses Flow inputs to specify object name and external ID \u2705 No hard-coded fields or object names \u2705 Accepts a JSON array of multiple records \u2705 Returns a status message to Flow \u2705"},{"location":"Salesforce/JSON-to-SObject/#example-flow-input","title":"\u2705 Example Flow Input","text":"<p>payload</p> <pre><code>[\n  {\n    \"External_Id__c\": \"123\",\n    \"Name\": \"Test Record\",\n    \"Amount__c\": 55.25,\n    \"Status__c\": \"Active\"\n  },\n  {\n    \"External_Id__c\": \"124\",\n    \"Name\": \"Second Record\",\n    \"Amount__c\": 99.99,\n    \"Status__c\": \"Pending\"\n  }\n]\n</code></pre> <p>objectApiName</p> <pre><code>Custom_Object__c\n</code></pre> <p>externalIdField</p> <pre><code>External_Id__c\n</code></pre> <p>\u2705 This will upsert two <code>Custom_Object__c</code> records using the <code>External_Id__c</code> field.</p>"},{"location":"Salesforce/JSON-to-SObject/#error-handling_1","title":"\u2705 Error Handling","text":"Condition Returned Message Missing input <code>\"No input provided\"</code> Missing JSON <code>\"No JSON payload provided\"</code> Invalid Object API name <code>\"Invalid object API name: X\"</code> Field assignment fails <code>\"Field assignment error on &lt;field&gt;: &lt;message&gt;\"</code> JSON failure <code>\"JSON processing error: &lt;message&gt;\"</code>"},{"location":"Salesforce/SobjectChangeHandler/","title":"Generic SObject Change Handler \u2013 Documentation","text":""},{"location":"Salesforce/SobjectChangeHandler/#purpose","title":"\u2705 Purpose","text":"<p>This Apex class tracks field changes on SObjects and automatically publishes integration events whenever configured fields change.</p> <p>It is designed to:</p> <ul> <li>Be triggered from Record-Triggered Flows, Apex triggers, or batch processes</li> <li>Dynamically determine which fields to track via Custom Metadata (<code>Object_Fields_Change__mdt</code>)</li> <li>Serialize changed fields into a JSON payload</li> <li>Publish events to Platform Events (<code>Outbound_Integration_Event__e</code>)</li> </ul> <p>This generic approach supports any object without hard-coding field names or object names.</p>"},{"location":"Salesforce/SobjectChangeHandler/#class-overview","title":"\u2705 Class Overview","text":"<pre><code>public class GenericObjectChangeHandler { ... }\n</code></pre> Feature Description Detects field changes \u2705 Configurable via Custom Metadata \u2705 Creates JSON payloads \u2705 Publishes to Platform Events \u2705 Supports any SObject \u2705"},{"location":"Salesforce/SobjectChangeHandler/#key-components","title":"\u2705 Key Components","text":""},{"location":"Salesforce/SobjectChangeHandler/#1-change-tracking-configuration","title":"1. Change Tracking Configuration","text":"<ul> <li>Custom Metadata Type: <code>Object_Fields_Change__mdt</code></li> <li>Field: <code>Field_List__c</code></li> <li>DeveloperName: Set to the SObject API Name (e.g., <code>Account</code>, <code>Contact</code>, <code>Custom_Object__c</code>)</li> <li>Purpose: Defines which fields are monitored for changes.</li> </ul>"},{"location":"Salesforce/SobjectChangeHandler/#2-integration-event","title":"2. Integration Event","text":"<ul> <li>Platform Event: <code>Outbound_Integration_Event__e</code></li> <li>Payload: Contains changed field names and values, plus record identifiers.</li> <li> <p>Fields:</p> </li> <li> <p><code>Object__c</code> \u2192 SObject API name</p> </li> <li><code>Payload__c</code> \u2192 JSON of changed fields</li> <li><code>RecordId__c</code> \u2192 Salesforce Record Id</li> <li><code>Request_Type__c</code> \u2192 Contextual type of request</li> <li><code>OH_Ref_Number__c</code> \u2192 Optional reference field (genericized)</li> </ul>"},{"location":"Salesforce/SobjectChangeHandler/#3-public-methods","title":"3. Public Methods","text":""},{"location":"Salesforce/SobjectChangeHandler/#processchangedfieldslistsobject-oldrecords-listsobject-newrecords","title":"<code>processChangedFields(List&lt;SObject&gt; oldRecords, List&lt;SObject&gt; newRecords)</code>","text":"<pre><code>public static void processChangedFields(List&lt;SObject&gt; oldRecords, List&lt;SObject&gt; newRecords)\n</code></pre> <p>Purpose: Detects changes on configured fields and generates integration events.</p> <p>Parameters:</p> Name Type Description <code>oldRecords</code> List Records before changes (can be <code>null</code>) <code>newRecords</code> List Records after changes <p>Logic:</p> <ol> <li>Determine which fields to check via <code>Object_Fields_Change__mdt</code>.</li> <li>Compare old vs new records.</li> <li>For each changed field, build a <code>Map&lt;String, String&gt;</code> with field name and new value.</li> <li>Serialize the map into JSON.</li> <li>Call <code>createIntegrationEvents()</code> to queue the event.</li> <li>Publish all queued events via <code>publishEvent()</code>.</li> </ol>"},{"location":"Salesforce/SobjectChangeHandler/#4-private-methods","title":"4. Private Methods","text":""},{"location":"Salesforce/SobjectChangeHandler/#createintegrationeventsstring-payload-string-objecttype-string-requesttype","title":"<code>createIntegrationEvents(String payload, String objectType, String requestType)</code>","text":"<ul> <li>Converts the JSON payload into a <code>Platform Event</code> instance.</li> <li>Queues the event in <code>eventsToPublish</code>.</li> </ul>"},{"location":"Salesforce/SobjectChangeHandler/#publishevent","title":"<code>publishEvent()</code>","text":"<ul> <li>Publishes all queued events to the EventBus.</li> <li>Clears the event list if not in a test context.</li> </ul>"},{"location":"Salesforce/SobjectChangeHandler/#5-generic-processing-logic","title":"5. Generic Processing Logic","text":"Step Description 1 Retrieve fields to track from Custom Metadata (<code>Field_List__c</code>) 2 For each SObject, compare old vs new values 3 If a field changed, add to <code>changedFieldMap</code> 4 Include optional reference fields if present on record 5 Serialize map into JSON and call <code>createIntegrationEvents()</code> 6 After processing all records, call <code>publishEvent()</code>"},{"location":"Salesforce/SobjectChangeHandler/#6-example-json-payload-published-event","title":"6. Example JSON Payload (Published Event)","text":"<pre><code>{\n  \"Id\": \"001XXXXXXXXXXXX\",\n  \"Name\": \"Updated Record Name\",\n  \"Status__c\": \"Active\",\n  \"Amount__c\": 250.50\n}\n</code></pre>"},{"location":"Salesforce/SobjectChangeHandler/#7-error-handling","title":"7. Error Handling","text":"Condition Action No fields configured in metadata No events published Invalid SObject Throws a runtime exception Field does not exist on SObject Skips that field Event publish fails Exception thrown by EventBus"},{"location":"Salesforce/SobjectChangeHandler/#8-flow-trigger-usage","title":"8. Flow / Trigger Usage","text":"<ul> <li> <p>Can be called from Record-Triggered Flows:</p> </li> <li> <p>Pass old and new records as <code>SObject</code> lists.</p> </li> <li>The handler automatically detects changes.</li> <li>Can be reused for any object by creating the appropriate Custom Metadata record.</li> <li>Platform Events can then be subscribed to by downstream systems.</li> </ul>"},{"location":"Salesforce/SobjectChangeHandler/#generic-apex-version","title":"\u2705 Generic Apex Version","text":"<pre><code>public class GenericObjectChangeHandler {\n    public static List&lt;Outbound_Integration_Event__e&gt; eventsToPublish = new List&lt;Outbound_Integration_Event__e&gt;();\n    public static List&lt;String&gt; fieldsToCheck = new List&lt;String&gt;();\n\n    public static void processChangedFields(List&lt;SObject&gt; oldRecords, List&lt;SObject&gt; newRecords) {\n        if (newRecords == null || newRecords.isEmpty()) return;\n\n        fieldsToCheck.clear();\n        String objectName = String.valueOf(newRecords[0].getSObjectType());\n\n        Object_Fields_Change__mdt config = [\n            SELECT Field_List__c \n            FROM Object_Fields_Change__mdt \n            WHERE DeveloperName = :objectName\n            LIMIT 1\n        ];\n\n        if (config.Field_List__c != null) {\n            for (String f : config.Field_List__c.split(',')) {\n                if (!String.isBlank(f)) fieldsToCheck.add(f.trim());\n            }\n        }\n\n        processRecords(oldRecords, newRecords, fieldsToCheck, objectName);\n    }\n\n    private static void processRecords(List&lt;SObject&gt; oldRecords, List&lt;SObject&gt; newRecords, List&lt;String&gt; fieldsToCheck, String objectName) {\n        Schema.SObjectType sObjectType = newRecords[0].getSObjectType();\n        Map&lt;String, Schema.SObjectField&gt; fieldMap = sObjectType.getDescribe().fields.getMap();\n\n        for (Integer i = 0; i &lt; newRecords.size(); i++) {\n            SObject newRec = newRecords[i];\n            SObject oldRec = (oldRecords != null &amp;&amp; oldRecords.size() &gt; i) ? oldRecords[i] : null;\n            Map&lt;String, String&gt; changedFieldMap = new Map&lt;String, String&gt;();\n\n            for (String fieldName : fieldsToCheck) {\n                Object oldVal = (oldRec != null) ? oldRec.get(fieldName) : null;\n                Object newVal = newRec.get(fieldName);\n\n                Boolean isChanged = (oldRec == null) \n                    ? (newVal != null) \n                    : (oldVal == null &amp;&amp; newVal != null) || (oldVal != null &amp;&amp; !oldVal.equals(newVal));\n\n                if (isChanged) changedFieldMap.put(fieldName, String.valueOf(newVal));\n            }\n\n            if (!changedFieldMap.isEmpty()) {\n                changedFieldMap.put('Id', String.valueOf(newRec.get('Id')));\n                String payload = JSON.serialize(changedFieldMap);\n                createIntegrationEvents(payload, objectName, 'Update');\n            }\n        }\n\n        publishEvent();\n    }\n\n    private static void createIntegrationEvents(String payload, String objectType, String requestType){\n        Map&lt;String, Object&gt; payloadMap = (Map&lt;String, Object&gt;) JSON.deserializeUntyped(payload);\n        String recordId = String.valueOf(payloadMap.get('Id'));\n\n        eventsToPublish.add(new Outbound_Integration_Event__e(\n            Object__c = objectType,\n            Payload__c = payload,\n            RecordId__c = recordId,\n            Request_Type__c = requestType\n        ));\n    }\n\n    private static void publishEvent(){\n        if (!eventsToPublish.isEmpty()) {\n            EventBus.publish(eventsToPublish);\n            if (!Test.isRunningTest()) eventsToPublish.clear(); \n        }\n    }\n}\n</code></pre> <p>This generic version:</p> <ul> <li>Works with any SObject</li> <li>Reads fields to track dynamically from metadata</li> <li>Publishes Platform Events automatically</li> <li>No hard-coded object references</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/","title":"Visual Remote Assistant (VRA) \u2013 Technical Documentation","text":""},{"location":"Salesforce/VirtualRemoteAssistant/#overview","title":"\u2705 Overview","text":"<p>Visual Remote Assistant (VRA) integrates directly into the Salesforce console, enabling live video sessions from Salesforce objects such as:</p> <ul> <li>Work Order</li> <li>Case</li> <li>Care Plan ID</li> <li>Lead</li> <li>Custom objects</li> </ul> <p>Key Features:</p> <ul> <li>Salesforce Agents deliver interactive AR remote support from Salesforce dashboard.</li> <li>Agents and remote experts can see end-user screens and guide resolutions.</li> <li>Salesforce information remains accessible during sessions.</li> <li>Visual Assistant assets are automatically attached to Salesforce records (e.g., Case).</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#1-installation","title":"1. Installation","text":"<ol> <li>Open a browser and go to: VRA Installation URL</li> <li>Salesforce Login page opens. Log in using your custom domain (Communities URL).</li> <li>Select Install for All Users.</li> <li>Click Done.</li> <li>Verify installation: Setup \u2192 Installed Packages \u2192 Visual Remote Assistant should be listed.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#2-user-setup","title":"2. User Setup","text":"<ol> <li>Open the user record that needs VRA access.</li> <li>Click Permission Set License Assignments \u2192 Edit Assignment.</li> <li>Search for Visual Remote Assistant, check the box, and click Save.</li> <li>Click Permission Set Assignments \u2192 Edit Assignment.</li> <li>Search for RemoteExpert permission set \u2192 click Add \u2192 Save.</li> </ol> <p>\u26a0\ufe0f Note: Remote Expert Permission Set is available only after VRA package installation.</p>"},{"location":"Salesforce/VirtualRemoteAssistant/#3-getting-started","title":"3. Getting Started","text":"<ol> <li>Go to App Launcher \u2192 search Visual Remote Assistant \u2013 Admin.</li> <li> <p>The Getting Started page displays:</p> </li> <li> <p>Permission Set Licenses quota for Remote Expert</p> </li> <li>Salesforce Org ID</li> <li>Salesforce Org Type</li> <li>Salesforce Org Name</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#31-domain-name-setup","title":"3.1 Domain Name Setup","text":"<ol> <li> <p>Register a domain under the <code>techsee.me</code> primary domain.</p> </li> <li> <p>Enter desired domain \u2192 click Check Availability.</p> </li> <li> <p>Validation rules:</p> </li> </ol> Org Type Max Characters Production 10 Sandbox 8 <ol> <li>Uppercase letters are automatically converted to lowercase.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#32-language-region","title":"3.2 Language &amp; Region","text":"<ul> <li>Language: Select End User UI language (Default = English).</li> <li> <p>Region: Select AWS region:</p> </li> <li> <p>AWS North America (default)</p> </li> <li>AWS Europe</li> </ul> <p>Click Next for Prerequisites.</p>"},{"location":"Salesforce/VirtualRemoteAssistant/#4-prerequisites-handling","title":"4. Prerequisites Handling","text":""},{"location":"Salesforce/VirtualRemoteAssistant/#41-enable-identity-provider","title":"4.1 Enable Identity Provider","text":"<ol> <li>Identity Provider must be enabled for SSO authentication.</li> <li>Click Enable Identity Provider \u2192 Setup \u2192 Identity Provider \u2192 Enable \u2192 Save.</li> <li>Return to VRA Configuration \u2192 check Identity Provider is enabled \u2192 Next.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#42-connected-app-policies","title":"4.2 Connected App Policies","text":""},{"location":"Salesforce/VirtualRemoteAssistant/#ip-relaxation","title":"IP Relaxation","text":"<ul> <li>Setup \u2192 Manage Connected App \u2192 Visual Remote Assistant \u2192 Edit Policies \u2192 OAuth Policies \u2192 IP Relaxation \u2192 Relax IP Restrictions.</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#permitted-users","title":"Permitted Users","text":"<ul> <li>OAuth Policies \u2192 Permitted Users \u2192 Admin approved users are pre-authorized \u2192 Save.</li> <li>Return to VRA Configuration \u2192 check Connected App \u2013 Policies Edited \u2192 Next.</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#43-connected-app-profiles","title":"4.3 Connected App Profiles","text":"<ol> <li>Manage Connected App \u2192 Profiles \u2192 Manage Profiles.</li> <li>Assign profiles for users who will use VRA.</li> <li>Return to Configuration \u2192 check Connected App \u2013 Profiles Assigned \u2192 Next.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#44-custom-attributes","title":"4.4 Custom Attributes","text":"<ol> <li>Setup \u2192 Manage Connected App \u2192 Visual Remote Assistant \u2192 Custom Attributes \u2192 New.</li> <li>Enter key &amp; value (case-sensitive).</li> <li>Return \u2192 check Connected App \u2013 Custom Attributes Created \u2192 Next.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#45-saml-login-information","title":"4.5 SAML Login Information","text":"<ol> <li>Setup \u2192 Manage Connected App \u2192 Visual Remote Assistant \u2192 SAML Login Information.</li> <li> <p>Copy:</p> </li> <li> <p>Metadata Discovery Endpoint</p> </li> <li>Single Logout Endpoint</li> <li>Paste in VRA Configuration \u2192 check SAML URLs Copied Successfully \u2192 Click Create Account.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#5-account-activation","title":"5. Account Activation","text":""},{"location":"Salesforce/VirtualRemoteAssistant/#51-account-creation","title":"5.1 Account Creation","text":"<ul> <li>Account is created in Pending state until Salesforce Admin activates.</li> <li>Admin clicks Create Account \u2192 Verify Prerequisites \u2192 Continue.</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#52-activation","title":"5.2 Activation","text":"<ul> <li>Activate within 48 hours.</li> <li>If expired, restart process.</li> <li>Successful activation \u2192 redirected to Post Activation Configuration.</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#6-post-activation-prerequisites","title":"6. Post-Activation Prerequisites","text":""},{"location":"Salesforce/VirtualRemoteAssistant/#61-remote-site-settings","title":"6.1 Remote Site Settings","text":"<ol> <li>Copy API URLs (Visual Remote Support, Visual Remote Image, Stats API).</li> <li>Setup \u2192 Remote Site Settings \u2192 Create / Edit Remote Sites \u2192 Paste URLs.</li> <li>Check Remote Site Settings Configured \u2192 Next.</li> </ol> <p>\u26a0\ufe0f Notification appears if Remote Sites are missing.</p>"},{"location":"Salesforce/VirtualRemoteAssistant/#62-csp-trusted-sites","title":"6.2 CSP Trusted Sites","text":"<ol> <li>Copy API URLs \u2192 Setup \u2192 CSP Trusted Sites \u2192 Edit \u2192 paste \u2192 Save.</li> <li>Repeat for all URLs \u2192 check CSP Trusted Sites Configured \u2192 Next.</li> </ol> <p>\u26a0\ufe0f Notification appears if CSP Trusted Sites are missing.</p>"},{"location":"Salesforce/VirtualRemoteAssistant/#63-acs-url","title":"6.3 ACS URL","text":"<ol> <li>Copy ACS URL \u2192 Manage Connected App \u2192 Visual Remote Assistant \u2192 Edit Policies \u2192 SAML Service Provider Settings \u2192 ACS URL \u2192 Paste.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#7-configuration","title":"7. Configuration","text":""},{"location":"Salesforce/VirtualRemoteAssistant/#71-salesforce-object-support","title":"7.1 Salesforce Object Support","text":"<ol> <li>App Launcher \u2192 VRA Admin \u2192 Configuration \u2192 Salesforce Object Support.</li> <li>Add objects to enable VRA (Lead, Case, Work Order, Service Appointment, etc.).</li> <li>Select Reference Number field for each object \u2192 Save.</li> </ol>"},{"location":"Salesforce/VirtualRemoteAssistant/#72-visual-assistant-features","title":"7.2 Visual Assistant Features","text":"Feature Setup Location Action Audio VRA Configuration \u2192 Features \u2192 Audio Enable Audio Desktop Sharing Features \u2192 Session Type by Platform \u2192 Desktop Enable Mobile Screen Mirroring Features \u2192 Mobile Enable Video Application Features \u2192 Session Type by Platform \u2192 Desktop Enable Mobile &amp; Tablet Support Features \u2192 Visual Assistant to-go Enable"},{"location":"Salesforce/VirtualRemoteAssistant/#73-field-service-feed-tracking","title":"7.3 Field Service &amp; Feed Tracking","text":"<ul> <li>Field Service: Setup \u2192 Service \u2192 Field Service Settings \u2192 Enable toggles.</li> <li>Feed Tracking: Setup \u2192 Feature Settings \u2192 Feed Tracking \u2192 Enable for supported objects.</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#74-visual-history","title":"7.4 Visual History","text":"<ul> <li>Update page layouts to display visual records for each VRA session.</li> </ul>"},{"location":"Salesforce/VirtualRemoteAssistant/#references","title":"References","text":"<ul> <li>VRA Installation URL</li> <li>Salesforce Setup \u2192 Installed Packages</li> <li>Salesforce Setup \u2192 Manage Connected App</li> <li>Salesforce App Launcher \u2192 Visual Remote Assistant \u2013 Admin</li> </ul> <p>This Markdown version organizes all your installation, user setup, getting started, prerequisites, activation, post-activation steps, and configuration instructions in a structured, scannable document.</p>"},{"location":"Salesforce/gitFlow/","title":"Git Flow","text":"<p>This strategy is a proven branching model ideal for teams that want to manage feature development, testing, and production releases in a structured way.</p> <p>Key Branches:</p> <p>main: Stable production code</p> <p>feature/*: New feature branches</p> <p>release/*: Pre-production staging/testing</p> <p>hotfix/*: Critical fixes to production</p> <p>develop: Integration branch for features</p>"},{"location":"Salesforce/gitFlow/#branching-model-diagram","title":"Branching Model Diagram","text":"<pre><code>  +-------------------------------------+\n  |              MAIN                   |\n  +-------------------------------------+\n               \u2191         \u2191\n         +-----+         +-----+\n         |                     |\n +-------+------+     +--------+--------+\n |   RELEASE/X   |     |    HOTFIX/Y     |\n +-------+------+     +--------+--------+\n         \u2193                     \u2193\n +-------+---------------------+--------+\n |               DEVELOP                |\n +-------+------------------------------+\n         \u2191\n +-------+--------+\n |   FEATURE/A     |\n +-----------------+\n</code></pre>"},{"location":"Salesforce/gitFlow/#workflow-description","title":"Workflow Description","text":"<p>Main (main)</p> <p>Always production-ready, in sync with  Production.</p> <p>Only updated through release/ or hotfix/ merges.</p> <p>Tagged with release versions (e.g., v1.0.0).</p> <p>Develop (develop)</p> <p>Base for all feature/* branches.</p> <p>Integrates completed features.</p> <p>Merged into release/* when ready for staging.</p> <p>Feature (feature/*)</p> <p>Created from develop.</p> <p>Used for individual feature development.</p> <p>Merged back into develop once complete.</p> <p>Release (release/*)</p> <p>Created from develop when preparing a release.</p> <p>Final testing, minor bug fixes.</p> <p>Merged into both main and develop.</p> <p>Hotfix (hotfix/*)</p> <p>Created from main for urgent production fixes.</p> <p>Merged into both main and develop.</p>"},{"location":"Salesforce/gitFlow/#best-practices","title":"Best Practices","text":"<p>Practice</p> <p>Description</p> <p>Pull Requests (PRs)</p> <p>All merges go through PRs with code review.</p> <p>Automated CI/CD</p> <p>Use pipelines to lint, test, and deploy.</p> <p>Semantic Branch Naming</p> <p>feature/login, hotfix/payment-crash</p> <p>Versioning</p> <p>Use Git tags (v1.2.3) on main after each release.</p> <p>Protection Rules</p> <p>Require PR approvals and tests to pass before merging into main or develop.</p>"},{"location":"Salesforce/gitFlow/#simplified-strategy-for-smaller-teams","title":"Simplified Strategy (for smaller teams)","text":"<p>If client has a smaller team or wants to reduce complexity, :</p> <p>Simple Branch Model</p> <p>main: production-ready code</p> <p>dev: all work happens here</p> <p>feature/*: optional, short-lived branches</p>"},{"location":"Salesforce/parseDate/","title":"parseDate","text":""},{"location":"Salesforce/parseDate/#parse-date-ddmmyyyy-into-date-documentation","title":"Parse Date dd/MM/yyyy into Date Documentation","text":""},{"location":"Salesforce/parseDate/#parsedatestring-s","title":"<code>parseDate(String s)</code>","text":"<p>Parses a date string in <code>dd/MM/yyyy</code> format and converts it into a <code>Date</code> value.</p>"},{"location":"Salesforce/parseDate/#method-signature","title":"Method Signature","text":"<pre><code>private static Date parseDate(String s)\n</code></pre>"},{"location":"Salesforce/parseDate/#parameters","title":"Parameters","text":"Name Type Description <code>s</code> <code>String</code> The date string to convert. Expected format: <code>dd/MM/yyyy</code>."},{"location":"Salesforce/parseDate/#returns","title":"Returns","text":"Type Description <code>Date</code> A <code>Date</code> instance parsed from the string, or <code>null</code> if the input is <code>null</code> or empty."},{"location":"Salesforce/parseDate/#logic","title":"Logic","text":"<ol> <li>If the input string is <code>null</code> or empty (<code>''</code>), the method returns <code>null</code>.</li> <li>The string is split by <code>'/'</code>, producing <code>[day, month, year]</code>.</li> <li><code>Date.newInstance(year, month, day)</code> creates the Date value.</li> </ol>"},{"location":"Salesforce/parseDate/#example","title":"Example","text":"<pre><code>Date d = parseDate('25/12/2024');\n// Returns 2024-12-25\n</code></pre>"},{"location":"Salesforce/parseDate/#parsedecimalstring-s","title":"<code>parseDecimal(String s)</code>","text":"<p>Converts a formatted currency string into a numeric <code>Decimal</code>.</p>"},{"location":"Salesforce/parseDate/#method-signature_1","title":"Method Signature","text":"<pre><code>private static Decimal parseDecimal(String s)\n</code></pre>"},{"location":"Salesforce/parseDate/#parameters_1","title":"Parameters","text":"Name Type Description <code>s</code> <code>String</code> A numeric string, optionally containing a currency symbol (<code>\u00a3</code>) or spaces."},{"location":"Salesforce/parseDate/#returns_1","title":"Returns","text":"Type Description <code>Decimal</code> Parsed decimal value, or <code>null</code> if input is <code>null</code>."},{"location":"Salesforce/parseDate/#logic_1","title":"Logic","text":"<ol> <li>If <code>s</code> is <code>null</code>, return <code>null</code>.</li> <li>Remove <code>\u00a3</code> and spaces using <code>replace()</code>.</li> <li>Convert to <code>Decimal</code> using <code>Decimal.valueOf()</code>.</li> </ol>"},{"location":"Salesforce/parseDate/#example_1","title":"Example","text":"<pre><code>Decimal cost = parseDecimal(' \u00a31,250.50 ');\n// Returns 1250.50\n</code></pre> <pre><code>/**\n * Parses a date string in dd/MM/yyyy format and returns a Date object.\n * @param s String date in dd/MM/yyyy\n * @return Date or null if input is null or empty\n */\nprivate static Date parseDate(String s) {\n    if (s == null || s == '') return null;\n    List&lt;String&gt; parts = s.split('/');\n    return Date.newInstance(\n        Integer.valueOf(parts[2]),\n        Integer.valueOf(parts[1]),\n        Integer.valueOf(parts[0])\n    );\n}\n\n/**\n * Converts a formatted currency/number string (e.g. \"\u00a31,000.50\") to Decimal.\n * @param s String representing a decimal value\n * @return Decimal parsed value or null if input is null\n */\nprivate static Decimal parseDecimal(String s) {\n    if (s == null) return null;\n    s = s.replace('\u00a3','').replace(' ','');\n    return Decimal.valueOf(s);\n}\n</code></pre>"}]}